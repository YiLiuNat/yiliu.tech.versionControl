{"ast":null,"code":"/*! iScroll v5.2.0-snapshot ~ (c) 2008-2017 Matteo Spinelli ~ http://cubiq.org/license */(function(window,document,Math){var rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60);};var utils=function(){var me={};var _elementStyle=document.createElement('div').style;var _vendor=function(){var vendors=['t','webkitT','MozT','msT','OT'],transform,i=0,l=vendors.length;for(;i<l;i++){transform=vendors[i]+'ransform';if(transform in _elementStyle)return vendors[i].substr(0,vendors[i].length-1);}return false;}();function _prefixStyle(style){if(_vendor===false)return false;if(_vendor==='')return style;return _vendor+style.charAt(0).toUpperCase()+style.substr(1);}me.getTime=Date.now||function getTime(){return new Date().getTime();};me.extend=function(target,obj){for(var i in obj){target[i]=obj[i];}};me.addEvent=function(el,type,fn,capture){el.addEventListener(type,fn,!!capture);};me.removeEvent=function(el,type,fn,capture){el.removeEventListener(type,fn,!!capture);};me.prefixPointerEvent=function(pointerEvent){return window.MSPointerEvent?'MSPointer'+pointerEvent.charAt(7).toUpperCase()+pointerEvent.substr(8):pointerEvent;};me.momentum=function(current,start,time,lowerMargin,wrapperSize,deceleration){var distance=current-start,speed=Math.abs(distance)/time,destination,duration;deceleration=deceleration===undefined?0.0006:deceleration;destination=current+speed*speed/(2*deceleration)*(distance<0?-1:1);duration=speed/deceleration;if(destination<lowerMargin){destination=wrapperSize?lowerMargin-wrapperSize/2.5*(speed/8):lowerMargin;distance=Math.abs(destination-current);duration=distance/speed;}else if(destination>0){destination=wrapperSize?wrapperSize/2.5*(speed/8):0;distance=Math.abs(current)+destination;duration=distance/speed;}return{destination:Math.round(destination),duration:duration};};var _transform=_prefixStyle('transform');me.extend(me,{hasTransform:_transform!==false,hasPerspective:_prefixStyle('perspective')in _elementStyle,hasTouch:'ontouchstart'in window,hasPointer:!!(window.PointerEvent||window.MSPointerEvent),// IE10 is prefixed\nhasTransition:_prefixStyle('transition')in _elementStyle});/*\r\n\tThis should find all Android browsers lower than build 535.19 (both stock browser and webview)\r\n\t- galaxy S2 is ok\r\n    - 2.3.6 : `AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1`\r\n    - 4.0.4 : `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\r\n   - galaxy S3 is badAndroid (stock brower, webview)\r\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\r\n   - galaxy S4 is badAndroid (stock brower, webview)\r\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\r\n   - galaxy S5 is OK\r\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\r\n   - galaxy S6 is OK\r\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\r\n  */me.isBadAndroid=function(){var appVersion=window.navigator.appVersion;// Android browser is not a chrome browser.\nif(/Android/.test(appVersion)&&!/Chrome\\/\\d/.test(appVersion)){var safariVersion=appVersion.match(/Safari\\/(\\d+.\\d)/);if(safariVersion&&typeof safariVersion===\"object\"&&safariVersion.length>=2){return parseFloat(safariVersion[1])<535.19;}else{return true;}}else{return false;}}();me.extend(me.style={},{transform:_transform,transitionTimingFunction:_prefixStyle('transitionTimingFunction'),transitionDuration:_prefixStyle('transitionDuration'),transitionDelay:_prefixStyle('transitionDelay'),transformOrigin:_prefixStyle('transformOrigin'),touchAction:_prefixStyle('touchAction')});me.hasClass=function(e,c){var re=new RegExp(\"(^|\\\\s)\"+c+\"(\\\\s|$)\");return re.test(e.className);};me.addClass=function(e,c){if(me.hasClass(e,c)){return;}var newclass=e.className.split(' ');newclass.push(c);e.className=newclass.join(' ');};me.removeClass=function(e,c){if(!me.hasClass(e,c)){return;}var re=new RegExp(\"(^|\\\\s)\"+c+\"(\\\\s|$)\",'g');e.className=e.className.replace(re,' ');};me.offset=function(el){var left=-el.offsetLeft,top=-el.offsetTop;// jshint -W084\nwhile(el=el.offsetParent){left-=el.offsetLeft;top-=el.offsetTop;}// jshint +W084\nreturn{left:left,top:top};};me.preventDefaultException=function(el,exceptions){for(var i in exceptions){if(exceptions[i].test(el[i])){return true;}}return false;};me.extend(me.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});me.extend(me.ease={},{quadratic:{style:'cubic-bezier(0.25, 0.46, 0.45, 0.94)',fn:function fn(k){return k*(2-k);}},circular:{style:'cubic-bezier(0.1, 0.57, 0.1, 1)',// Not properly \"circular\" but this looks better, it should be (0.075, 0.82, 0.165, 1)\nfn:function fn(k){return Math.sqrt(1- --k*k);}},back:{style:'cubic-bezier(0.175, 0.885, 0.32, 1.275)',fn:function fn(k){var b=4;return(k=k-1)*k*((b+1)*k+b)+1;}},bounce:{style:'',fn:function fn(k){if((k/=1)<1/2.75){return 7.5625*k*k;}else if(k<2/2.75){return 7.5625*(k-=1.5/2.75)*k+0.75;}else if(k<2.5/2.75){return 7.5625*(k-=2.25/2.75)*k+0.9375;}else{return 7.5625*(k-=2.625/2.75)*k+0.984375;}}},elastic:{style:'',fn:function fn(k){var f=0.22,e=0.4;if(k===0){return 0;}if(k==1){return 1;}return e*Math.pow(2,-10*k)*Math.sin((k-f/4)*(2*Math.PI)/f)+1;}}});me.tap=function(e,eventName){var ev=document.createEvent('Event');ev.initEvent(eventName,true,true);ev.pageX=e.pageX;ev.pageY=e.pageY;e.target.dispatchEvent(ev);};me.click=function(e){var target=e.target,ev;if(!/(SELECT|INPUT|TEXTAREA)/i.test(target.tagName)){// https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/initMouseEvent\n// initMouseEvent is deprecated.\nev=document.createEvent(window.MouseEvent?'MouseEvents':'Event');ev.initEvent('click',true,true);ev.view=e.view||window;ev.detail=1;ev.screenX=target.screenX||0;ev.screenY=target.screenY||0;ev.clientX=target.clientX||0;ev.clientY=target.clientY||0;ev.ctrlKey=!!e.ctrlKey;ev.altKey=!!e.altKey;ev.shiftKey=!!e.shiftKey;ev.metaKey=!!e.metaKey;ev.button=0;ev.relatedTarget=null;ev._constructed=true;target.dispatchEvent(ev);}};me.getTouchAction=function(eventPassthrough,addPinch){var touchAction='none';if(eventPassthrough==='vertical'){touchAction='pan-y';}else if(eventPassthrough==='horizontal'){touchAction='pan-x';}if(addPinch&&touchAction!='none'){// add pinch-zoom support if the browser supports it, but if not (eg. Chrome <55) do nothing\ntouchAction+=' pinch-zoom';}return touchAction;};me.getRect=function(el){if(el instanceof SVGElement){var rect=el.getBoundingClientRect();return{top:rect.top,left:rect.left,width:rect.width,height:rect.height};}else{return{top:el.offsetTop,left:el.offsetLeft,width:el.offsetWidth,height:el.offsetHeight};}};return me;}();function IScroll(el,options){this.wrapper=typeof el=='string'?document.querySelector(el):el;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;// cache style for better performance\nthis.options={resizeScrollbars:true,mouseWheelSpeed:20,snapThreshold:0.334,// INSERT POINT: OPTIONS\ndisablePointer:!utils.hasPointer,disableTouch:utils.hasPointer||!utils.hasTouch,disableMouse:utils.hasPointer||utils.hasTouch,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:'',preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true,bindToWrapper:typeof window.onmousedown===\"undefined\"};for(var i in options){this.options[i]=options[i];}// Normalize options\nthis.translateZ=this.options.HWCompositing&&utils.hasPerspective?' translateZ(0)':'';this.options.useTransition=utils.hasTransition&&this.options.useTransition;this.options.useTransform=utils.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?'vertical':this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;// If you want eventPassthrough I have to lock one of the axes\nthis.options.scrollY=this.options.eventPassthrough=='vertical'?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=='horizontal'?false:this.options.scrollX;// With eventPassthrough we also need lockDirection mechanism\nthis.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=='string'?utils.ease[this.options.bounceEasing]||utils.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap='tap';}// https://github.com/cubiq/iscroll/issues/1029\nif(!this.options.useTransition&&!this.options.useTransform){if(!/relative|absolute/i.test(this.scrollerStyle.position)){this.scrollerStyle.position=\"relative\";}}if(this.options.shrinkScrollbars=='scale'){this.options.useTransition=false;}this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;// INSERT POINT: NORMALIZATION\n// Some defaults\nthis.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};// INSERT POINT: DEFAULTS\nthis._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable();}IScroll.prototype={version:'5.2.0-snapshot',_init:function _init(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators();}if(this.options.mouseWheel){this._initWheel();}if(this.options.snap){this._initSnap();}if(this.options.keyBindings){this._initKeys();}// INSERT POINT: _init\n},destroy:function destroy(){this._initEvents(true);clearTimeout(this.resizeTimeout);this.resizeTimeout=null;this._execEvent('destroy');},_transitionEnd:function _transitionEnd(e){if(e.target!=this.scroller||!this.isInTransition){return;}this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent('scrollEnd');}},_start:function _start(e){// React to left mouse button only\nif(utils.eventType[e.type]!=1){// for button property\n// http://unixpapa.com/js/mouse.html\nvar button;if(!e.which){/* IE case */button=e.button<2?0:e.button==4?1:2;}else{/* All others */button=e.button;}if(button!==0){return;}}if(!this.enabled||this.initiated&&utils.eventType[e.type]!==this.initiated){return;}if(this.options.preventDefault&&!utils.isBadAndroid&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)){e.preventDefault();}var point=e.touches?e.touches[0]:e,pos;this.initiated=utils.eventType[e.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this.startTime=utils.getTime();if(this.options.useTransition&&this.isInTransition){this._transitionTime();this.isInTransition=false;pos=this.getComputedPosition();this._translate(Math.round(pos.x),Math.round(pos.y));this._execEvent('scrollEnd');}else if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent('scrollEnd');}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=point.pageX;this.pointY=point.pageY;this._execEvent('beforeScrollStart');},_move:function _move(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return;}if(this.options.preventDefault){// increases performance on Android? TODO: check!\ne.preventDefault();}var point=e.touches?e.touches[0]:e,deltaX=point.pageX-this.pointX,deltaY=point.pageY-this.pointY,timestamp=utils.getTime(),newX,newY,absDistX,absDistY;this.pointX=point.pageX;this.pointY=point.pageY;this.distX+=deltaX;this.distY+=deltaY;absDistX=Math.abs(this.distX);absDistY=Math.abs(this.distY);// We need to move at least 10 pixels for the scrolling to initiate\nif(timestamp-this.endTime>300&&absDistX<10&&absDistY<10){return;}// If you are scrolling in one direction lock the other\nif(!this.directionLocked&&!this.options.freeScroll){if(absDistX>absDistY+this.options.directionLockThreshold){this.directionLocked='h';// lock horizontally\n}else if(absDistY>=absDistX+this.options.directionLockThreshold){this.directionLocked='v';// lock vertically\n}else{this.directionLocked='n';// no lock\n}}if(this.directionLocked=='h'){if(this.options.eventPassthrough=='vertical'){e.preventDefault();}else if(this.options.eventPassthrough=='horizontal'){this.initiated=false;return;}deltaY=0;}else if(this.directionLocked=='v'){if(this.options.eventPassthrough=='horizontal'){e.preventDefault();}else if(this.options.eventPassthrough=='vertical'){this.initiated=false;return;}deltaX=0;}deltaX=this.hasHorizontalScroll?deltaX:0;deltaY=this.hasVerticalScroll?deltaY:0;newX=this.x+deltaX;newY=this.y+deltaY;// Slow down if outside of the boundaries\nif(newX>0||newX<this.maxScrollX){newX=this.options.bounce?this.x+deltaX/3:newX>0?0:this.maxScrollX;}if(newY>0||newY<this.maxScrollY){newY=this.options.bounce?this.y+deltaY/3:newY>0?0:this.maxScrollY;}this.directionX=deltaX>0?-1:deltaX<0?1:0;this.directionY=deltaY>0?-1:deltaY<0?1:0;if(!this.moved){this._execEvent('scrollStart');}this.moved=true;this._translate(newX,newY);/* REPLACE START: _move */if(timestamp-this.startTime>300){this.startTime=timestamp;this.startX=this.x;this.startY=this.y;}/* REPLACE END: _move */},_end:function _end(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return;}if(this.options.preventDefault&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)){e.preventDefault();}var point=e.changedTouches?e.changedTouches[0]:e,momentumX,momentumY,duration=utils.getTime()-this.startTime,newX=Math.round(this.x),newY=Math.round(this.y),distanceX=Math.abs(newX-this.startX),distanceY=Math.abs(newY-this.startY),time=0,easing='';this.isInTransition=0;this.initiated=0;this.endTime=utils.getTime();// reset if we are outside of the boundaries\nif(this.resetPosition(this.options.bounceTime)){return;}this.scrollTo(newX,newY);// ensures that the last position is rounded\n// we scrolled less than 10 pixels\nif(!this.moved){if(this.options.tap){utils.tap(e,this.options.tap);}if(this.options.click){utils.click(e);}this._execEvent('scrollCancel');return;}if(this._events.flick&&duration<200&&distanceX<100&&distanceY<100){this._execEvent('flick');return;}// start momentum animation if needed\nif(this.options.momentum&&duration<300){momentumX=this.hasHorizontalScroll?utils.momentum(this.x,this.startX,duration,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:newX,duration:0};momentumY=this.hasVerticalScroll?utils.momentum(this.y,this.startY,duration,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:newY,duration:0};newX=momentumX.destination;newY=momentumY.destination;time=Math.max(momentumX.duration,momentumY.duration);this.isInTransition=1;}if(this.options.snap){var snap=this._nearestSnap(newX,newY);this.currentPage=snap;time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(newX-snap.x),1000),Math.min(Math.abs(newY-snap.y),1000)),300);newX=snap.x;newY=snap.y;this.directionX=0;this.directionY=0;easing=this.options.bounceEasing;}// INSERT POINT: _end\nif(newX!=this.x||newY!=this.y){// change easing function when scroller goes out of the boundaries\nif(newX>0||newX<this.maxScrollX||newY>0||newY<this.maxScrollY){easing=utils.ease.quadratic;}this.scrollTo(newX,newY,time,easing);return;}this._execEvent('scrollEnd');},_resize:function _resize(){var that=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){that.refresh();},this.options.resizePolling);},resetPosition:function resetPosition(time){var x=this.x,y=this.y;time=time||0;if(!this.hasHorizontalScroll||this.x>0){x=0;}else if(this.x<this.maxScrollX){x=this.maxScrollX;}if(!this.hasVerticalScroll||this.y>0){y=0;}else if(this.y<this.maxScrollY){y=this.maxScrollY;}if(x==this.x&&y==this.y){return false;}this.scrollTo(x,y,time,this.options.bounceEasing);return true;},disable:function disable(){this.enabled=false;},enable:function enable(){this.enabled=true;},refresh:function refresh(){utils.getRect(this.wrapper);// Force reflow\nthis.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;var rect=utils.getRect(this.scroller);/* REPLACE START: refresh */this.scrollerWidth=rect.width;this.scrollerHeight=rect.height;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;/* REPLACE END: refresh */this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth;}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight;}this.endTime=0;this.directionX=0;this.directionY=0;if(utils.hasPointer&&!this.options.disablePointer){// The wrapper should have `touchAction` property for using pointerEvent.\nthis.wrapper.style[utils.style.touchAction]=utils.getTouchAction(this.options.eventPassthrough,true);// case. not support 'pinch-zoom'\n// https://github.com/cubiq/iscroll/issues/1118#issuecomment-270057583\nif(!this.wrapper.style[utils.style.touchAction]){this.wrapper.style[utils.style.touchAction]=utils.getTouchAction(this.options.eventPassthrough,false);}}this.wrapperOffset=utils.offset(this.wrapper);this._execEvent('refresh');this.resetPosition();// INSERT POINT: _refresh\n},on:function on(type,fn){if(!this._events[type]){this._events[type]=[];}this._events[type].push(fn);},off:function off(type,fn){if(!this._events[type]){return;}var index=this._events[type].indexOf(fn);if(index>-1){this._events[type].splice(index,1);}},_execEvent:function _execEvent(type){if(!this._events[type]){return;}var i=0,l=this._events[type].length;if(!l){return;}for(;i<l;i++){this._events[type][i].apply(this,[].slice.call(arguments,1));}},scrollBy:function scrollBy(x,y,time,easing){x=this.x+x;y=this.y+y;time=time||0;this.scrollTo(x,y,time,easing);},scrollTo:function scrollTo(x,y,time,easing){easing=easing||utils.ease.circular;this.isInTransition=this.options.useTransition&&time>0;var transitionType=this.options.useTransition&&easing.style;if(!time||transitionType){if(transitionType){this._transitionTimingFunction(easing.style);this._transitionTime(time);}this._translate(x,y);}else{this._animate(x,y,time,easing.fn);}},scrollToElement:function scrollToElement(el,time,offsetX,offsetY,easing){el=el.nodeType?el:this.scroller.querySelector(el);if(!el){return;}var pos=utils.offset(el);pos.left-=this.wrapperOffset.left;pos.top-=this.wrapperOffset.top;// if offsetX/Y are true we center the element to the screen\nvar elRect=utils.getRect(el);var wrapperRect=utils.getRect(this.wrapper);if(offsetX===true){offsetX=Math.round(elRect.width/2-wrapperRect.width/2);}if(offsetY===true){offsetY=Math.round(elRect.height/2-wrapperRect.height/2);}pos.left-=offsetX||0;pos.top-=offsetY||0;pos.left=pos.left>0?0:pos.left<this.maxScrollX?this.maxScrollX:pos.left;pos.top=pos.top>0?0:pos.top<this.maxScrollY?this.maxScrollY:pos.top;time=time===undefined||time===null||time==='auto'?Math.max(Math.abs(this.x-pos.left),Math.abs(this.y-pos.top)):time;this.scrollTo(pos.left,pos.top,time,easing);},_transitionTime:function _transitionTime(time){if(!this.options.useTransition){return;}time=time||0;var durationProp=utils.style.transitionDuration;if(!durationProp){return;}this.scrollerStyle[durationProp]=time+'ms';if(!time&&utils.isBadAndroid){this.scrollerStyle[durationProp]='0.0001ms';// remove 0.0001ms\nvar self=this;rAF(function(){if(self.scrollerStyle[durationProp]==='0.0001ms'){self.scrollerStyle[durationProp]='0s';}});}if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].transitionTime(time);}}// INSERT POINT: _transitionTime\n},_transitionTimingFunction:function _transitionTimingFunction(easing){this.scrollerStyle[utils.style.transitionTimingFunction]=easing;if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].transitionTimingFunction(easing);}}// INSERT POINT: _transitionTimingFunction\n},_translate:function _translate(x,y){if(this.options.useTransform){/* REPLACE START: _translate */this.scrollerStyle[utils.style.transform]='translate('+x+'px,'+y+'px)'+this.translateZ;/* REPLACE END: _translate */}else{x=Math.round(x);y=Math.round(y);this.scrollerStyle.left=x+'px';this.scrollerStyle.top=y+'px';}this.x=x;this.y=y;if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].updatePosition();}}// INSERT POINT: _translate\n},_initEvents:function _initEvents(remove){var eventType=remove?utils.removeEvent:utils.addEvent,target=this.options.bindToWrapper?this.wrapper:window;eventType(window,'orientationchange',this);eventType(window,'resize',this);if(this.options.click){eventType(this.wrapper,'click',this,true);}if(!this.options.disableMouse){eventType(this.wrapper,'mousedown',this);eventType(target,'mousemove',this);eventType(target,'mousecancel',this);eventType(target,'mouseup',this);}if(utils.hasPointer&&!this.options.disablePointer){eventType(this.wrapper,utils.prefixPointerEvent('pointerdown'),this);eventType(target,utils.prefixPointerEvent('pointermove'),this);eventType(target,utils.prefixPointerEvent('pointercancel'),this);eventType(target,utils.prefixPointerEvent('pointerup'),this);}if(utils.hasTouch&&!this.options.disableTouch){eventType(this.wrapper,'touchstart',this);eventType(target,'touchmove',this);eventType(target,'touchcancel',this);eventType(target,'touchend',this);}eventType(this.scroller,'transitionend',this);eventType(this.scroller,'webkitTransitionEnd',this);eventType(this.scroller,'oTransitionEnd',this);eventType(this.scroller,'MSTransitionEnd',this);},getComputedPosition:function getComputedPosition(){var matrix=window.getComputedStyle(this.scroller,null),x,y;if(this.options.useTransform){matrix=matrix[utils.style.transform].split(')')[0].split(', ');x=+(matrix[12]||matrix[4]);y=+(matrix[13]||matrix[5]);}else{x=+matrix.left.replace(/[^-\\d.]/g,'');y=+matrix.top.replace(/[^-\\d.]/g,'');}return{x:x,y:y};},_initIndicators:function _initIndicators(){var interactive=this.options.interactiveScrollbars,customStyle=typeof this.options.scrollbars!='string',indicators=[],indicator;var that=this;this.indicators=[];if(this.options.scrollbars){// Vertical scrollbar\nif(this.options.scrollY){indicator={el:createDefaultScrollbar('v',interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:true,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:false};this.wrapper.appendChild(indicator.el);indicators.push(indicator);}// Horizontal scrollbar\nif(this.options.scrollX){indicator={el:createDefaultScrollbar('h',interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:true,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:false};this.wrapper.appendChild(indicator.el);indicators.push(indicator);}}if(this.options.indicators){// TODO: check concat compatibility\nindicators=indicators.concat(this.options.indicators);}for(var i=indicators.length;i--;){this.indicators.push(new Indicator(this,indicators[i]));}// TODO: check if we can use array.map (wide compatibility and performance issues)\nfunction _indicatorsMap(fn){if(that.indicators){for(var i=that.indicators.length;i--;){fn.call(that.indicators[i]);}}}if(this.options.fadeScrollbars){this.on('scrollEnd',function(){_indicatorsMap(function(){this.fade();});});this.on('scrollCancel',function(){_indicatorsMap(function(){this.fade();});});this.on('scrollStart',function(){_indicatorsMap(function(){this.fade(1);});});this.on('beforeScrollStart',function(){_indicatorsMap(function(){this.fade(1,true);});});}this.on('refresh',function(){_indicatorsMap(function(){this.refresh();});});this.on('destroy',function(){_indicatorsMap(function(){this.destroy();});delete this.indicators;});},_initWheel:function _initWheel(){utils.addEvent(this.wrapper,'wheel',this);utils.addEvent(this.wrapper,'mousewheel',this);utils.addEvent(this.wrapper,'DOMMouseScroll',this);this.on('destroy',function(){clearTimeout(this.wheelTimeout);this.wheelTimeout=null;utils.removeEvent(this.wrapper,'wheel',this);utils.removeEvent(this.wrapper,'mousewheel',this);utils.removeEvent(this.wrapper,'DOMMouseScroll',this);});},_wheel:function _wheel(e){if(!this.enabled){return;}e.preventDefault();var wheelDeltaX,wheelDeltaY,newX,newY,that=this;if(this.wheelTimeout===undefined){that._execEvent('scrollStart');}// Execute the scrollEnd event after 400ms the wheel stopped scrolling\nclearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){if(!that.options.snap){that._execEvent('scrollEnd');}that.wheelTimeout=undefined;},400);if('deltaX'in e){if(e.deltaMode===1){wheelDeltaX=-e.deltaX*this.options.mouseWheelSpeed;wheelDeltaY=-e.deltaY*this.options.mouseWheelSpeed;}else{wheelDeltaX=-e.deltaX;wheelDeltaY=-e.deltaY;}}else if('wheelDeltaX'in e){wheelDeltaX=e.wheelDeltaX/120*this.options.mouseWheelSpeed;wheelDeltaY=e.wheelDeltaY/120*this.options.mouseWheelSpeed;}else if('wheelDelta'in e){wheelDeltaX=wheelDeltaY=e.wheelDelta/120*this.options.mouseWheelSpeed;}else if('detail'in e){wheelDeltaX=wheelDeltaY=-e.detail/3*this.options.mouseWheelSpeed;}else{return;}wheelDeltaX*=this.options.invertWheelDirection;wheelDeltaY*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){wheelDeltaX=wheelDeltaY;wheelDeltaY=0;}if(this.options.snap){newX=this.currentPage.pageX;newY=this.currentPage.pageY;if(wheelDeltaX>0){newX--;}else if(wheelDeltaX<0){newX++;}if(wheelDeltaY>0){newY--;}else if(wheelDeltaY<0){newY++;}this.goToPage(newX,newY);return;}newX=this.x+Math.round(this.hasHorizontalScroll?wheelDeltaX:0);newY=this.y+Math.round(this.hasVerticalScroll?wheelDeltaY:0);this.directionX=wheelDeltaX>0?-1:wheelDeltaX<0?1:0;this.directionY=wheelDeltaY>0?-1:wheelDeltaY<0?1:0;if(newX>0){newX=0;}else if(newX<this.maxScrollX){newX=this.maxScrollX;}if(newY>0){newY=0;}else if(newY<this.maxScrollY){newY=this.maxScrollY;}this.scrollTo(newX,newY,0);// INSERT POINT: _wheel\n},_initSnap:function _initSnap(){this.currentPage={};if(typeof this.options.snap=='string'){this.options.snap=this.scroller.querySelectorAll(this.options.snap);}this.on('refresh',function(){var i=0,l,m=0,n,cx,cy,x=0,y,stepX=this.options.snapStepX||this.wrapperWidth,stepY=this.options.snapStepY||this.wrapperHeight,el,rect;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return;}if(this.options.snap===true){cx=Math.round(stepX/2);cy=Math.round(stepY/2);while(x>-this.scrollerWidth){this.pages[i]=[];l=0;y=0;while(y>-this.scrollerHeight){this.pages[i][l]={x:Math.max(x,this.maxScrollX),y:Math.max(y,this.maxScrollY),width:stepX,height:stepY,cx:x-cx,cy:y-cy};y-=stepY;l++;}x-=stepX;i++;}}else{el=this.options.snap;l=el.length;n=-1;for(;i<l;i++){rect=utils.getRect(el[i]);if(i===0||rect.left<=utils.getRect(el[i-1]).left){m=0;n++;}if(!this.pages[m]){this.pages[m]=[];}x=Math.max(-rect.left,this.maxScrollX);y=Math.max(-rect.top,this.maxScrollY);cx=x-Math.round(rect.width/2);cy=y-Math.round(rect.height/2);this.pages[m][n]={x:x,y:y,width:rect.width,height:rect.height,cx:cx,cy:cy};if(x>this.maxScrollX){m++;}}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);// Update snap threshold if needed\nif(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold;}else{this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold);}});this.on('flick',function(){var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1000),Math.min(Math.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,time);});},_nearestSnap:function _nearestSnap(x,y){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0};}var i=0,l=this.pages.length,m=0;// Check if we exceeded the snap threshold\nif(Math.abs(x-this.absStartX)<this.snapThresholdX&&Math.abs(y-this.absStartY)<this.snapThresholdY){return this.currentPage;}if(x>0){x=0;}else if(x<this.maxScrollX){x=this.maxScrollX;}if(y>0){y=0;}else if(y<this.maxScrollY){y=this.maxScrollY;}for(;i<l;i++){if(x>=this.pages[i][0].cx){x=this.pages[i][0].x;break;}}l=this.pages[i].length;for(;m<l;m++){if(y>=this.pages[0][m].cy){y=this.pages[0][m].y;break;}}if(i==this.currentPage.pageX){i+=this.directionX;if(i<0){i=0;}else if(i>=this.pages.length){i=this.pages.length-1;}x=this.pages[i][0].x;}if(m==this.currentPage.pageY){m+=this.directionY;if(m<0){m=0;}else if(m>=this.pages[0].length){m=this.pages[0].length-1;}y=this.pages[0][m].y;}return{x:x,y:y,pageX:i,pageY:m};},goToPage:function goToPage(x,y,time,easing){easing=easing||this.options.bounceEasing;if(x>=this.pages.length){x=this.pages.length-1;}else if(x<0){x=0;}if(y>=this.pages[x].length){y=this.pages[x].length-1;}else if(y<0){y=0;}var posX=this.pages[x][y].x,posY=this.pages[x][y].y;time=time===undefined?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(posX-this.x),1000),Math.min(Math.abs(posY-this.y),1000)),300):time;this.currentPage={x:posX,y:posY,pageX:x,pageY:y};this.scrollTo(posX,posY,time,easing);},next:function next(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x++;if(x>=this.pages.length&&this.hasVerticalScroll){x=0;y++;}this.goToPage(x,y,time,easing);},prev:function prev(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x--;if(x<0&&this.hasVerticalScroll){x=0;y--;}this.goToPage(x,y,time,easing);},_initKeys:function _initKeys(e){// default key bindings\nvar keys={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var i;// if you give me characters I give you keycode\nif(typeof this.options.keyBindings=='object'){for(i in this.options.keyBindings){if(typeof this.options.keyBindings[i]=='string'){this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0);}}}else{this.options.keyBindings={};}for(i in keys){this.options.keyBindings[i]=this.options.keyBindings[i]||keys[i];}utils.addEvent(window,'keydown',this);this.on('destroy',function(){utils.removeEvent(window,'keydown',this);});},_key:function _key(e){if(!this.enabled){return;}var snap=this.options.snap,// we are using this alot, better to cache it\nnewX=snap?this.currentPage.pageX:this.x,newY=snap?this.currentPage.pageY:this.y,now=utils.getTime(),prevTime=this.keyTime||0,acceleration=0.250,pos;if(this.options.useTransition&&this.isInTransition){pos=this.getComputedPosition();this._translate(Math.round(pos.x),Math.round(pos.y));this.isInTransition=false;}this.keyAcceleration=now-prevTime<200?Math.min(this.keyAcceleration+acceleration,50):0;switch(e.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){newX+=snap?1:this.wrapperWidth;}else{newY+=snap?1:this.wrapperHeight;}break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){newX-=snap?1:this.wrapperWidth;}else{newY-=snap?1:this.wrapperHeight;}break;case this.options.keyBindings.end:newX=snap?this.pages.length-1:this.maxScrollX;newY=snap?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:newX=0;newY=0;break;case this.options.keyBindings.left:newX+=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:newY+=snap?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:newX-=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:newY-=snap?1:5+this.keyAcceleration>>0;break;default:return;}if(snap){this.goToPage(newX,newY);return;}if(newX>0){newX=0;this.keyAcceleration=0;}else if(newX<this.maxScrollX){newX=this.maxScrollX;this.keyAcceleration=0;}if(newY>0){newY=0;this.keyAcceleration=0;}else if(newY<this.maxScrollY){newY=this.maxScrollY;this.keyAcceleration=0;}this.scrollTo(newX,newY,0);this.keyTime=now;},_animate:function _animate(destX,destY,duration,easingFn){var that=this,startX=this.x,startY=this.y,startTime=utils.getTime(),destTime=startTime+duration;function step(){var now=utils.getTime(),newX,newY,easing;if(now>=destTime){that.isAnimating=false;that._translate(destX,destY);if(!that.resetPosition(that.options.bounceTime)){that._execEvent('scrollEnd');}return;}now=(now-startTime)/duration;easing=easingFn(now);newX=(destX-startX)*easing+startX;newY=(destY-startY)*easing+startY;that._translate(newX,newY);if(that.isAnimating){rAF(step);}}this.isAnimating=true;step();},handleEvent:function handleEvent(e){switch(e.type){case'touchstart':case'pointerdown':case'MSPointerDown':case'mousedown':this._start(e);break;case'touchmove':case'pointermove':case'MSPointerMove':case'mousemove':this._move(e);break;case'touchend':case'pointerup':case'MSPointerUp':case'mouseup':case'touchcancel':case'pointercancel':case'MSPointerCancel':case'mousecancel':this._end(e);break;case'orientationchange':case'resize':this._resize();break;case'transitionend':case'webkitTransitionEnd':case'oTransitionEnd':case'MSTransitionEnd':this._transitionEnd(e);break;case'wheel':case'DOMMouseScroll':case'mousewheel':this._wheel(e);break;case'keydown':this._key(e);break;case'click':if(this.enabled&&!e._constructed){e.preventDefault();e.stopPropagation();}break;}}};function createDefaultScrollbar(direction,interactive,type){var scrollbar=document.createElement('div'),indicator=document.createElement('div');if(type===true){scrollbar.style.cssText='position:absolute;z-index:9999';indicator.style.cssText='-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';}indicator.className='iScrollIndicator';if(direction=='h'){if(type===true){scrollbar.style.cssText+=';height:7px;left:2px;right:2px;bottom:0';indicator.style.height='100%';}scrollbar.className='iScrollHorizontalScrollbar';}else{if(type===true){scrollbar.style.cssText+=';width:7px;bottom:2px;top:2px;right:1px';indicator.style.width='100%';}scrollbar.className='iScrollVerticalScrollbar';}scrollbar.style.cssText+=';overflow:hidden';if(!interactive){scrollbar.style.pointerEvents='none';}scrollbar.appendChild(indicator);return scrollbar;}function Indicator(scroller,options){this.wrapper=typeof options.el=='string'?document.querySelector(options.el):options.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=scroller;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};for(var i in options){this.options[i]=options[i];}this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){utils.addEvent(this.indicator,'touchstart',this);utils.addEvent(window,'touchend',this);}if(!this.options.disablePointer){utils.addEvent(this.indicator,utils.prefixPointerEvent('pointerdown'),this);utils.addEvent(window,utils.prefixPointerEvent('pointerup'),this);}if(!this.options.disableMouse){utils.addEvent(this.indicator,'mousedown',this);utils.addEvent(window,'mouseup',this);}}if(this.options.fade){this.wrapperStyle[utils.style.transform]=this.scroller.translateZ;var durationProp=utils.style.transitionDuration;if(!durationProp){return;}this.wrapperStyle[durationProp]=utils.isBadAndroid?'0.0001ms':'0ms';// remove 0.0001ms\nvar self=this;if(utils.isBadAndroid){rAF(function(){if(self.wrapperStyle[durationProp]==='0.0001ms'){self.wrapperStyle[durationProp]='0s';}});}this.wrapperStyle.opacity='0';}}Indicator.prototype={handleEvent:function handleEvent(e){switch(e.type){case'touchstart':case'pointerdown':case'MSPointerDown':case'mousedown':this._start(e);break;case'touchmove':case'pointermove':case'MSPointerMove':case'mousemove':this._move(e);break;case'touchend':case'pointerup':case'MSPointerUp':case'mouseup':case'touchcancel':case'pointercancel':case'MSPointerCancel':case'mousecancel':this._end(e);break;}},destroy:function destroy(){if(this.options.fadeScrollbars){clearTimeout(this.fadeTimeout);this.fadeTimeout=null;}if(this.options.interactive){utils.removeEvent(this.indicator,'touchstart',this);utils.removeEvent(this.indicator,utils.prefixPointerEvent('pointerdown'),this);utils.removeEvent(this.indicator,'mousedown',this);utils.removeEvent(window,'touchmove',this);utils.removeEvent(window,utils.prefixPointerEvent('pointermove'),this);utils.removeEvent(window,'mousemove',this);utils.removeEvent(window,'touchend',this);utils.removeEvent(window,utils.prefixPointerEvent('pointerup'),this);utils.removeEvent(window,'mouseup',this);}if(this.options.defaultScrollbars&&this.wrapper.parentNode){this.wrapper.parentNode.removeChild(this.wrapper);}},_start:function _start(e){var point=e.touches?e.touches[0]:e;e.preventDefault();e.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=point.pageX;this.lastPointY=point.pageY;this.startTime=utils.getTime();if(!this.options.disableTouch){utils.addEvent(window,'touchmove',this);}if(!this.options.disablePointer){utils.addEvent(window,utils.prefixPointerEvent('pointermove'),this);}if(!this.options.disableMouse){utils.addEvent(window,'mousemove',this);}this.scroller._execEvent('beforeScrollStart');},_move:function _move(e){var point=e.touches?e.touches[0]:e,deltaX,deltaY,newX,newY,timestamp=utils.getTime();if(!this.moved){this.scroller._execEvent('scrollStart');}this.moved=true;deltaX=point.pageX-this.lastPointX;this.lastPointX=point.pageX;deltaY=point.pageY-this.lastPointY;this.lastPointY=point.pageY;newX=this.x+deltaX;newY=this.y+deltaY;this._pos(newX,newY);// INSERT POINT: indicator._move\ne.preventDefault();e.stopPropagation();},_end:function _end(e){if(!this.initiated){return;}this.initiated=false;e.preventDefault();e.stopPropagation();utils.removeEvent(window,'touchmove',this);utils.removeEvent(window,utils.prefixPointerEvent('pointermove'),this);utils.removeEvent(window,'mousemove',this);if(this.scroller.options.snap){var snap=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-snap.x),1000),Math.min(Math.abs(this.scroller.y-snap.y),1000)),300);if(this.scroller.x!=snap.x||this.scroller.y!=snap.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=snap;this.scroller.scrollTo(snap.x,snap.y,time,this.scroller.options.bounceEasing);}}if(this.moved){this.scroller._execEvent('scrollEnd');}},transitionTime:function transitionTime(time){time=time||0;var durationProp=utils.style.transitionDuration;if(!durationProp){return;}this.indicatorStyle[durationProp]=time+'ms';if(!time&&utils.isBadAndroid){this.indicatorStyle[durationProp]='0.0001ms';// remove 0.0001ms\nvar self=this;rAF(function(){if(self.indicatorStyle[durationProp]==='0.0001ms'){self.indicatorStyle[durationProp]='0s';}});}},transitionTimingFunction:function transitionTimingFunction(easing){this.indicatorStyle[utils.style.transitionTimingFunction]=easing;},refresh:function refresh(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?'block':'none';}else if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?'block':'none';}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?'block':'none';}if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){utils.addClass(this.wrapper,'iScrollBothScrollbars');utils.removeClass(this.wrapper,'iScrollLoneScrollbar');if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right='8px';}else{this.wrapper.style.bottom='8px';}}}else{utils.removeClass(this.wrapper,'iScrollBothScrollbars');utils.addClass(this.wrapper,'iScrollLoneScrollbar');if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right='2px';}else{this.wrapper.style.bottom='2px';}}}utils.getRect(this.wrapper);// force refresh\nif(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+'px';}else{this.indicatorWidth=this.indicator.clientWidth;}this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=='clip'){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8;}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX;}this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX;}if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+'px';}else{this.indicatorHeight=this.indicator.clientHeight;}this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=='clip'){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8;}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY;}this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY;}this.updatePosition();},updatePosition:function updatePosition(){var x=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,y=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(x<this.minBoundaryX){if(this.options.shrink=='scale'){this.width=Math.max(this.indicatorWidth+x,8);this.indicatorStyle.width=this.width+'px';}x=this.minBoundaryX;}else if(x>this.maxBoundaryX){if(this.options.shrink=='scale'){this.width=Math.max(this.indicatorWidth-(x-this.maxPosX),8);this.indicatorStyle.width=this.width+'px';x=this.maxPosX+this.indicatorWidth-this.width;}else{x=this.maxBoundaryX;}}else if(this.options.shrink=='scale'&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+'px';}if(y<this.minBoundaryY){if(this.options.shrink=='scale'){this.height=Math.max(this.indicatorHeight+y*3,8);this.indicatorStyle.height=this.height+'px';}y=this.minBoundaryY;}else if(y>this.maxBoundaryY){if(this.options.shrink=='scale'){this.height=Math.max(this.indicatorHeight-(y-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+'px';y=this.maxPosY+this.indicatorHeight-this.height;}else{y=this.maxBoundaryY;}}else if(this.options.shrink=='scale'&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+'px';}}this.x=x;this.y=y;if(this.scroller.options.useTransform){this.indicatorStyle[utils.style.transform]='translate('+x+'px,'+y+'px)'+this.scroller.translateZ;}else{this.indicatorStyle.left=x+'px';this.indicatorStyle.top=y+'px';}},_pos:function _pos(x,y){if(x<0){x=0;}else if(x>this.maxPosX){x=this.maxPosX;}if(y<0){y=0;}else if(y>this.maxPosY){y=this.maxPosY;}x=this.options.listenX?Math.round(x/this.sizeRatioX):this.scroller.x;y=this.options.listenY?Math.round(y/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(x,y);},fade:function fade(val,hold){if(hold&&!this.visible){return;}clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var time=val?250:500,delay=val?0:300;val=val?'1':'0';this.wrapperStyle[utils.style.transitionDuration]=time+'ms';this.fadeTimeout=setTimeout(function(val){this.wrapperStyle.opacity=val;this.visible=+val;}.bind(this,val),delay);}};IScroll.utils=utils;if(typeof module!='undefined'&&module.exports){module.exports=IScroll;}else{window.IScroll=IScroll;}})(window,document,Math);","map":{"version":3,"sources":["D:/Documents/Github/yiliunat.github.io/src/lib/iscroll.js"],"names":["window","document","Math","rAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","utils","me","_elementStyle","createElement","style","_vendor","vendors","transform","i","l","length","substr","_prefixStyle","charAt","toUpperCase","getTime","Date","now","extend","target","obj","addEvent","el","type","fn","capture","addEventListener","removeEvent","removeEventListener","prefixPointerEvent","pointerEvent","MSPointerEvent","momentum","current","start","time","lowerMargin","wrapperSize","deceleration","distance","speed","abs","destination","duration","undefined","round","_transform","hasTransform","hasPerspective","hasTouch","hasPointer","PointerEvent","hasTransition","isBadAndroid","appVersion","navigator","test","safariVersion","match","parseFloat","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","touchAction","hasClass","e","c","re","RegExp","className","addClass","newclass","split","push","join","removeClass","replace","offset","left","offsetLeft","top","offsetTop","offsetParent","preventDefaultException","exceptions","eventType","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","pointerdown","pointermove","pointerup","MSPointerDown","MSPointerMove","MSPointerUp","ease","quadratic","k","circular","sqrt","back","b","bounce","elastic","f","pow","sin","PI","tap","eventName","ev","createEvent","initEvent","pageX","pageY","dispatchEvent","click","tagName","MouseEvent","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","_constructed","getTouchAction","eventPassthrough","addPinch","getRect","SVGElement","rect","getBoundingClientRect","width","height","offsetWidth","offsetHeight","IScroll","options","wrapper","querySelector","scroller","children","scrollerStyle","resizeScrollbars","mouseWheelSpeed","snapThreshold","disablePointer","disableTouch","disableMouse","startX","startY","scrollY","directionLockThreshold","bounceTime","bounceEasing","preventDefault","HWCompositing","useTransition","useTransform","bindToWrapper","onmousedown","translateZ","scrollX","freeScroll","resizePolling","position","shrinkScrollbars","invertWheelDirection","x","y","directionX","directionY","_events","_init","refresh","scrollTo","enable","prototype","version","_initEvents","scrollbars","indicators","_initIndicators","mouseWheel","_initWheel","snap","_initSnap","keyBindings","_initKeys","destroy","clearTimeout","resizeTimeout","_execEvent","_transitionEnd","isInTransition","_transitionTime","resetPosition","_start","which","enabled","initiated","point","touches","pos","moved","distX","distY","directionLocked","startTime","getComputedPosition","_translate","isAnimating","absStartX","absStartY","pointX","pointY","_move","deltaX","deltaY","timestamp","newX","newY","absDistX","absDistY","endTime","hasHorizontalScroll","hasVerticalScroll","maxScrollX","maxScrollY","_end","changedTouches","momentumX","momentumY","distanceX","distanceY","easing","flick","wrapperWidth","wrapperHeight","max","_nearestSnap","currentPage","snapSpeed","min","_resize","that","disable","clientWidth","clientHeight","scrollerWidth","scrollerHeight","wrapperOffset","on","off","index","indexOf","splice","apply","slice","call","arguments","scrollBy","transitionType","_transitionTimingFunction","_animate","scrollToElement","offsetX","offsetY","nodeType","elRect","wrapperRect","durationProp","self","transitionTime","updatePosition","remove","matrix","getComputedStyle","interactive","interactiveScrollbars","customStyle","indicator","createDefaultScrollbar","defaultScrollbars","resize","shrink","fade","fadeScrollbars","listenX","appendChild","listenY","concat","Indicator","_indicatorsMap","wheelTimeout","_wheel","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","goToPage","querySelectorAll","m","n","cx","cy","stepX","snapStepX","stepY","snapStepY","pages","snapThresholdX","snapThresholdY","posX","posY","next","prev","keys","pageUp","pageDown","end","home","up","right","down","charCodeAt","_key","prevTime","keyTime","acceleration","keyAcceleration","keyCode","destX","destY","easingFn","destTime","step","handleEvent","stopPropagation","direction","scrollbar","cssText","pointerEvents","wrapperStyle","indicatorStyle","speedRatioX","speedRatioY","sizeRatioX","sizeRatioY","maxPosX","maxPosY","opacity","fadeTimeout","parentNode","removeChild","lastPointX","lastPointY","_pos","display","bottom","indicatorWidth","minBoundaryX","maxBoundaryX","indicatorHeight","minBoundaryY","maxBoundaryY","ignoreBoundaries","val","hold","visible","delay","bind","module","exports"],"mappings":"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","sourcesContent":["/*! iScroll v5.2.0-snapshot ~ (c) 2008-2017 Matteo Spinelli ~ http://cubiq.org/license */\r\n(function (window, document, Math) {\r\nvar rAF = window.requestAnimationFrame\t||\r\n\twindow.webkitRequestAnimationFrame\t||\r\n\twindow.mozRequestAnimationFrame\t\t||\r\n\twindow.oRequestAnimationFrame\t\t||\r\n\twindow.msRequestAnimationFrame\t\t||\r\n\tfunction (callback) { window.setTimeout(callback, 1000 / 60); };\r\n\r\nvar utils = (function () {\r\n\tvar me = {};\r\n\r\n\tvar _elementStyle = document.createElement('div').style;\r\n\tvar _vendor = (function () {\r\n\t\tvar vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],\r\n\t\t\ttransform,\r\n\t\t\ti = 0,\r\n\t\t\tl = vendors.length;\r\n\r\n\t\tfor ( ; i < l; i++ ) {\r\n\t\t\ttransform = vendors[i] + 'ransform';\r\n\t\t\tif ( transform in _elementStyle ) return vendors[i].substr(0, vendors[i].length-1);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t})();\r\n\r\n\tfunction _prefixStyle (style) {\r\n\t\tif ( _vendor === false ) return false;\r\n\t\tif ( _vendor === '' ) return style;\r\n\t\treturn _vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n\t}\r\n\r\n\tme.getTime = Date.now || function getTime () { return new Date().getTime(); };\r\n\r\n\tme.extend = function (target, obj) {\r\n\t\tfor ( var i in obj ) {\r\n\t\t\ttarget[i] = obj[i];\r\n\t\t}\r\n\t};\r\n\r\n\tme.addEvent = function (el, type, fn, capture) {\r\n\t\tel.addEventListener(type, fn, !!capture);\r\n\t};\r\n\r\n\tme.removeEvent = function (el, type, fn, capture) {\r\n\t\tel.removeEventListener(type, fn, !!capture);\r\n\t};\r\n\r\n\tme.prefixPointerEvent = function (pointerEvent) {\r\n\t\treturn window.MSPointerEvent ?\r\n\t\t\t'MSPointer' + pointerEvent.charAt(7).toUpperCase() + pointerEvent.substr(8):\r\n\t\t\tpointerEvent;\r\n\t};\r\n\r\n\tme.momentum = function (current, start, time, lowerMargin, wrapperSize, deceleration) {\r\n\t\tvar distance = current - start,\r\n\t\t\tspeed = Math.abs(distance) / time,\r\n\t\t\tdestination,\r\n\t\t\tduration;\r\n\r\n\t\tdeceleration = deceleration === undefined ? 0.0006 : deceleration;\r\n\r\n\t\tdestination = current + ( speed * speed ) / ( 2 * deceleration ) * ( distance < 0 ? -1 : 1 );\r\n\t\tduration = speed / deceleration;\r\n\r\n\t\tif ( destination < lowerMargin ) {\r\n\t\t\tdestination = wrapperSize ? lowerMargin - ( wrapperSize / 2.5 * ( speed / 8 ) ) : lowerMargin;\r\n\t\t\tdistance = Math.abs(destination - current);\r\n\t\t\tduration = distance / speed;\r\n\t\t} else if ( destination > 0 ) {\r\n\t\t\tdestination = wrapperSize ? wrapperSize / 2.5 * ( speed / 8 ) : 0;\r\n\t\t\tdistance = Math.abs(current) + destination;\r\n\t\t\tduration = distance / speed;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tdestination: Math.round(destination),\r\n\t\t\tduration: duration\r\n\t\t};\r\n\t};\r\n\r\n\tvar _transform = _prefixStyle('transform');\r\n\r\n\tme.extend(me, {\r\n\t\thasTransform: _transform !== false,\r\n\t\thasPerspective: _prefixStyle('perspective') in _elementStyle,\r\n\t\thasTouch: 'ontouchstart' in window,\r\n\t\thasPointer: !!(window.PointerEvent || window.MSPointerEvent), // IE10 is prefixed\r\n\t\thasTransition: _prefixStyle('transition') in _elementStyle\r\n\t});\r\n\r\n\t/*\r\n\tThis should find all Android browsers lower than build 535.19 (both stock browser and webview)\r\n\t- galaxy S2 is ok\r\n    - 2.3.6 : `AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1`\r\n    - 4.0.4 : `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\r\n   - galaxy S3 is badAndroid (stock brower, webview)\r\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\r\n   - galaxy S4 is badAndroid (stock brower, webview)\r\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\r\n   - galaxy S5 is OK\r\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\r\n   - galaxy S6 is OK\r\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\r\n  */\r\n\tme.isBadAndroid = (function() {\r\n\t\tvar appVersion = window.navigator.appVersion;\r\n\t\t// Android browser is not a chrome browser.\r\n\t\tif (/Android/.test(appVersion) && !(/Chrome\\/\\d/.test(appVersion))) {\r\n\t\t\tvar safariVersion = appVersion.match(/Safari\\/(\\d+.\\d)/);\r\n\t\t\tif(safariVersion && typeof safariVersion === \"object\" && safariVersion.length >= 2) {\r\n\t\t\t\treturn parseFloat(safariVersion[1]) < 535.19;\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t})();\r\n\r\n\tme.extend(me.style = {}, {\r\n\t\ttransform: _transform,\r\n\t\ttransitionTimingFunction: _prefixStyle('transitionTimingFunction'),\r\n\t\ttransitionDuration: _prefixStyle('transitionDuration'),\r\n\t\ttransitionDelay: _prefixStyle('transitionDelay'),\r\n\t\ttransformOrigin: _prefixStyle('transformOrigin'),\r\n\t\ttouchAction: _prefixStyle('touchAction')\r\n\t});\r\n\r\n\tme.hasClass = function (e, c) {\r\n\t\tvar re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\");\r\n\t\treturn re.test(e.className);\r\n\t};\r\n\r\n\tme.addClass = function (e, c) {\r\n\t\tif ( me.hasClass(e, c) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar newclass = e.className.split(' ');\r\n\t\tnewclass.push(c);\r\n\t\te.className = newclass.join(' ');\r\n\t};\r\n\r\n\tme.removeClass = function (e, c) {\r\n\t\tif ( !me.hasClass(e, c) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", 'g');\r\n\t\te.className = e.className.replace(re, ' ');\r\n\t};\r\n\r\n\tme.offset = function (el) {\r\n\t\tvar left = -el.offsetLeft,\r\n\t\t\ttop = -el.offsetTop;\r\n\r\n\t\t// jshint -W084\r\n\t\twhile (el = el.offsetParent) {\r\n\t\t\tleft -= el.offsetLeft;\r\n\t\t\ttop -= el.offsetTop;\r\n\t\t}\r\n\t\t// jshint +W084\r\n\r\n\t\treturn {\r\n\t\t\tleft: left,\r\n\t\t\ttop: top\r\n\t\t};\r\n\t};\r\n\r\n\tme.preventDefaultException = function (el, exceptions) {\r\n\t\tfor ( var i in exceptions ) {\r\n\t\t\tif ( exceptions[i].test(el[i]) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tme.extend(me.eventType = {}, {\r\n\t\ttouchstart: 1,\r\n\t\ttouchmove: 1,\r\n\t\ttouchend: 1,\r\n\r\n\t\tmousedown: 2,\r\n\t\tmousemove: 2,\r\n\t\tmouseup: 2,\r\n\r\n\t\tpointerdown: 3,\r\n\t\tpointermove: 3,\r\n\t\tpointerup: 3,\r\n\r\n\t\tMSPointerDown: 3,\r\n\t\tMSPointerMove: 3,\r\n\t\tMSPointerUp: 3\r\n\t});\r\n\r\n\tme.extend(me.ease = {}, {\r\n\t\tquadratic: {\r\n\t\t\tstyle: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n\t\t\tfn: function (k) {\r\n\t\t\t\treturn k * ( 2 - k );\r\n\t\t\t}\r\n\t\t},\r\n\t\tcircular: {\r\n\t\t\tstyle: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\t// Not properly \"circular\" but this looks better, it should be (0.075, 0.82, 0.165, 1)\r\n\t\t\tfn: function (k) {\r\n\t\t\t\treturn Math.sqrt( 1 - ( --k * k ) );\r\n\t\t\t}\r\n\t\t},\r\n\t\tback: {\r\n\t\t\tstyle: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\r\n\t\t\tfn: function (k) {\r\n\t\t\t\tvar b = 4;\r\n\t\t\t\treturn ( k = k - 1 ) * k * ( ( b + 1 ) * k + b ) + 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tbounce: {\r\n\t\t\tstyle: '',\r\n\t\t\tfn: function (k) {\r\n\t\t\t\tif ( ( k /= 1 ) < ( 1 / 2.75 ) ) {\r\n\t\t\t\t\treturn 7.5625 * k * k;\r\n\t\t\t\t} else if ( k < ( 2 / 2.75 ) ) {\r\n\t\t\t\t\treturn 7.5625 * ( k -= ( 1.5 / 2.75 ) ) * k + 0.75;\r\n\t\t\t\t} else if ( k < ( 2.5 / 2.75 ) ) {\r\n\t\t\t\t\treturn 7.5625 * ( k -= ( 2.25 / 2.75 ) ) * k + 0.9375;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 7.5625 * ( k -= ( 2.625 / 2.75 ) ) * k + 0.984375;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\telastic: {\r\n\t\t\tstyle: '',\r\n\t\t\tfn: function (k) {\r\n\t\t\t\tvar f = 0.22,\r\n\t\t\t\t\te = 0.4;\r\n\r\n\t\t\t\tif ( k === 0 ) { return 0; }\r\n\t\t\t\tif ( k == 1 ) { return 1; }\r\n\r\n\t\t\t\treturn ( e * Math.pow( 2, - 10 * k ) * Math.sin( ( k - f / 4 ) * ( 2 * Math.PI ) / f ) + 1 );\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tme.tap = function (e, eventName) {\r\n\t\tvar ev = document.createEvent('Event');\r\n\t\tev.initEvent(eventName, true, true);\r\n\t\tev.pageX = e.pageX;\r\n\t\tev.pageY = e.pageY;\r\n\t\te.target.dispatchEvent(ev);\r\n\t};\r\n\r\n\tme.click = function (e) {\r\n\t\tvar target = e.target,\r\n\t\t\tev;\r\n\r\n\t\tif ( !(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName) ) {\r\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/initMouseEvent\r\n\t\t\t// initMouseEvent is deprecated.\r\n\t\t\tev = document.createEvent(window.MouseEvent ? 'MouseEvents' : 'Event');\r\n\t\t\tev.initEvent('click', true, true);\r\n\t\t\tev.view = e.view || window;\r\n\t\t\tev.detail = 1;\r\n\t\t\tev.screenX = target.screenX || 0;\r\n\t\t\tev.screenY = target.screenY || 0;\r\n\t\t\tev.clientX = target.clientX || 0;\r\n\t\t\tev.clientY = target.clientY || 0;\r\n\t\t\tev.ctrlKey = !!e.ctrlKey;\r\n\t\t\tev.altKey = !!e.altKey;\r\n\t\t\tev.shiftKey = !!e.shiftKey;\r\n\t\t\tev.metaKey = !!e.metaKey;\r\n\t\t\tev.button = 0;\r\n\t\t\tev.relatedTarget = null;\r\n\t\t\tev._constructed = true;\r\n\t\t\ttarget.dispatchEvent(ev);\r\n\t\t}\r\n\t};\r\n\r\n\tme.getTouchAction = function(eventPassthrough, addPinch) {\r\n\t\tvar touchAction = 'none';\r\n\t\tif ( eventPassthrough === 'vertical' ) {\r\n\t\t\ttouchAction = 'pan-y';\r\n\t\t} else if (eventPassthrough === 'horizontal' ) {\r\n\t\t\ttouchAction = 'pan-x';\r\n\t\t}\r\n\t\tif (addPinch && touchAction != 'none') {\r\n\t\t\t// add pinch-zoom support if the browser supports it, but if not (eg. Chrome <55) do nothing\r\n\t\t\ttouchAction += ' pinch-zoom';\r\n\t\t}\r\n\t\treturn touchAction;\r\n\t};\r\n\r\n\tme.getRect = function(el) {\r\n\t\tif (el instanceof SVGElement) {\r\n\t\t\tvar rect = el.getBoundingClientRect();\r\n\t\t\treturn {\r\n\t\t\t\ttop : rect.top,\r\n\t\t\t\tleft : rect.left,\r\n\t\t\t\twidth : rect.width,\r\n\t\t\t\theight : rect.height\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\ttop : el.offsetTop,\r\n\t\t\t\tleft : el.offsetLeft,\r\n\t\t\t\twidth : el.offsetWidth,\r\n\t\t\t\theight : el.offsetHeight\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\treturn me;\r\n})();\r\nfunction IScroll (el, options) {\r\n\tthis.wrapper = typeof el == 'string' ? document.querySelector(el) : el;\r\n\tthis.scroller = this.wrapper.children[0];\r\n\tthis.scrollerStyle = this.scroller.style;\t\t// cache style for better performance\r\n\r\n\tthis.options = {\r\n\r\n\t\tresizeScrollbars: true,\r\n\r\n\t\tmouseWheelSpeed: 20,\r\n\r\n\t\tsnapThreshold: 0.334,\r\n\r\n// INSERT POINT: OPTIONS\r\n\t\tdisablePointer : !utils.hasPointer,\r\n\t\tdisableTouch : utils.hasPointer || !utils.hasTouch,\r\n\t\tdisableMouse : utils.hasPointer || utils.hasTouch,\r\n\t\tstartX: 0,\r\n\t\tstartY: 0,\r\n\t\tscrollY: true,\r\n\t\tdirectionLockThreshold: 5,\r\n\t\tmomentum: true,\r\n\r\n\t\tbounce: true,\r\n\t\tbounceTime: 600,\r\n\t\tbounceEasing: '',\r\n\r\n\t\tpreventDefault: true,\r\n\t\tpreventDefaultException: { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/ },\r\n\r\n\t\tHWCompositing: true,\r\n\t\tuseTransition: true,\r\n\t\tuseTransform: true,\r\n\t\tbindToWrapper: typeof window.onmousedown === \"undefined\"\r\n\t};\r\n\r\n\tfor ( var i in options ) {\r\n\t\tthis.options[i] = options[i];\r\n\t}\r\n\r\n\t// Normalize options\r\n\tthis.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';\r\n\r\n\tthis.options.useTransition = utils.hasTransition && this.options.useTransition;\r\n\tthis.options.useTransform = utils.hasTransform && this.options.useTransform;\r\n\r\n\tthis.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;\r\n\tthis.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;\r\n\r\n\t// If you want eventPassthrough I have to lock one of the axes\r\n\tthis.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;\r\n\tthis.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX;\r\n\r\n\t// With eventPassthrough we also need lockDirection mechanism\r\n\tthis.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\r\n\tthis.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\r\n\r\n\tthis.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;\r\n\r\n\tthis.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;\r\n\r\n\tif ( this.options.tap === true ) {\r\n\t\tthis.options.tap = 'tap';\r\n\t}\r\n\r\n\t// https://github.com/cubiq/iscroll/issues/1029\r\n\tif (!this.options.useTransition && !this.options.useTransform) {\r\n\t\tif(!(/relative|absolute/i).test(this.scrollerStyle.position)) {\r\n\t\t\tthis.scrollerStyle.position = \"relative\";\r\n\t\t}\r\n\t}\r\n\r\n\tif ( this.options.shrinkScrollbars == 'scale' ) {\r\n\t\tthis.options.useTransition = false;\r\n\t}\r\n\r\n\tthis.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1;\r\n\r\n// INSERT POINT: NORMALIZATION\r\n\r\n\t// Some defaults\r\n\tthis.x = 0;\r\n\tthis.y = 0;\r\n\tthis.directionX = 0;\r\n\tthis.directionY = 0;\r\n\tthis._events = {};\r\n\r\n// INSERT POINT: DEFAULTS\r\n\r\n\tthis._init();\r\n\tthis.refresh();\r\n\r\n\tthis.scrollTo(this.options.startX, this.options.startY);\r\n\tthis.enable();\r\n}\r\n\r\nIScroll.prototype = {\r\n\tversion: '5.2.0-snapshot',\r\n\r\n\t_init: function () {\r\n\t\tthis._initEvents();\r\n\r\n\t\tif ( this.options.scrollbars || this.options.indicators ) {\r\n\t\t\tthis._initIndicators();\r\n\t\t}\r\n\r\n\t\tif ( this.options.mouseWheel ) {\r\n\t\t\tthis._initWheel();\r\n\t\t}\r\n\r\n\t\tif ( this.options.snap ) {\r\n\t\t\tthis._initSnap();\r\n\t\t}\r\n\r\n\t\tif ( this.options.keyBindings ) {\r\n\t\t\tthis._initKeys();\r\n\t\t}\r\n\r\n// INSERT POINT: _init\r\n\r\n\t},\r\n\r\n\tdestroy: function () {\r\n\t\tthis._initEvents(true);\r\n\t\tclearTimeout(this.resizeTimeout);\r\n \t\tthis.resizeTimeout = null;\r\n\t\tthis._execEvent('destroy');\r\n\t},\r\n\r\n\t_transitionEnd: function (e) {\r\n\t\tif ( e.target != this.scroller || !this.isInTransition ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._transitionTime();\r\n\t\tif ( !this.resetPosition(this.options.bounceTime) ) {\r\n\t\t\tthis.isInTransition = false;\r\n\t\t\tthis._execEvent('scrollEnd');\r\n\t\t}\r\n\t},\r\n\r\n\t_start: function (e) {\r\n\t\t// React to left mouse button only\r\n\t\tif ( utils.eventType[e.type] != 1 ) {\r\n\t\t  // for button property\r\n\t\t  // http://unixpapa.com/js/mouse.html\r\n\t\t  var button;\r\n\t    if (!e.which) {\r\n\t      /* IE case */\r\n\t      button = (e.button < 2) ? 0 :\r\n\t               ((e.button == 4) ? 1 : 2);\r\n\t    } else {\r\n\t      /* All others */\r\n\t      button = e.button;\r\n\t    }\r\n\t\t\tif ( button !== 0 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( !this.enabled || (this.initiated && utils.eventType[e.type] !== this.initiated) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\r\n\t\tvar point = e.touches ? e.touches[0] : e,\r\n\t\t\tpos;\r\n\r\n\t\tthis.initiated\t= utils.eventType[e.type];\r\n\t\tthis.moved\t\t= false;\r\n\t\tthis.distX\t\t= 0;\r\n\t\tthis.distY\t\t= 0;\r\n\t\tthis.directionX = 0;\r\n\t\tthis.directionY = 0;\r\n\t\tthis.directionLocked = 0;\r\n\r\n\t\tthis.startTime = utils.getTime();\r\n\r\n\t\tif ( this.options.useTransition && this.isInTransition ) {\r\n\t\t\tthis._transitionTime();\r\n\t\t\tthis.isInTransition = false;\r\n\t\t\tpos = this.getComputedPosition();\r\n\t\t\tthis._translate(Math.round(pos.x), Math.round(pos.y));\r\n\t\t\tthis._execEvent('scrollEnd');\r\n\t\t} else if ( !this.options.useTransition && this.isAnimating ) {\r\n\t\t\tthis.isAnimating = false;\r\n\t\t\tthis._execEvent('scrollEnd');\r\n\t\t}\r\n\r\n\t\tthis.startX    = this.x;\r\n\t\tthis.startY    = this.y;\r\n\t\tthis.absStartX = this.x;\r\n\t\tthis.absStartY = this.y;\r\n\t\tthis.pointX    = point.pageX;\r\n\t\tthis.pointY    = point.pageY;\r\n\r\n\t\tthis._execEvent('beforeScrollStart');\r\n\t},\r\n\r\n\t_move: function (e) {\r\n\t\tif ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( this.options.preventDefault ) {\t// increases performance on Android? TODO: check!\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\r\n\t\tvar point\t\t= e.touches ? e.touches[0] : e,\r\n\t\t\tdeltaX\t\t= point.pageX - this.pointX,\r\n\t\t\tdeltaY\t\t= point.pageY - this.pointY,\r\n\t\t\ttimestamp\t= utils.getTime(),\r\n\t\t\tnewX, newY,\r\n\t\t\tabsDistX, absDistY;\r\n\r\n\t\tthis.pointX\t\t= point.pageX;\r\n\t\tthis.pointY\t\t= point.pageY;\r\n\r\n\t\tthis.distX\t\t+= deltaX;\r\n\t\tthis.distY\t\t+= deltaY;\r\n\t\tabsDistX\t\t= Math.abs(this.distX);\r\n\t\tabsDistY\t\t= Math.abs(this.distY);\r\n\r\n\t\t// We need to move at least 10 pixels for the scrolling to initiate\r\n\t\tif ( timestamp - this.endTime > 300 && (absDistX < 10 && absDistY < 10) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// If you are scrolling in one direction lock the other\r\n\t\tif ( !this.directionLocked && !this.options.freeScroll ) {\r\n\t\t\tif ( absDistX > absDistY + this.options.directionLockThreshold ) {\r\n\t\t\t\tthis.directionLocked = 'h';\t\t// lock horizontally\r\n\t\t\t} else if ( absDistY >= absDistX + this.options.directionLockThreshold ) {\r\n\t\t\t\tthis.directionLocked = 'v';\t\t// lock vertically\r\n\t\t\t} else {\r\n\t\t\t\tthis.directionLocked = 'n';\t\t// no lock\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( this.directionLocked == 'h' ) {\r\n\t\t\tif ( this.options.eventPassthrough == 'vertical' ) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else if ( this.options.eventPassthrough == 'horizontal' ) {\r\n\t\t\t\tthis.initiated = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdeltaY = 0;\r\n\t\t} else if ( this.directionLocked == 'v' ) {\r\n\t\t\tif ( this.options.eventPassthrough == 'horizontal' ) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else if ( this.options.eventPassthrough == 'vertical' ) {\r\n\t\t\t\tthis.initiated = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdeltaX = 0;\r\n\t\t}\r\n\r\n\t\tdeltaX = this.hasHorizontalScroll ? deltaX : 0;\r\n\t\tdeltaY = this.hasVerticalScroll ? deltaY : 0;\r\n\r\n\t\tnewX = this.x + deltaX;\r\n\t\tnewY = this.y + deltaY;\r\n\r\n\t\t// Slow down if outside of the boundaries\r\n\t\tif ( newX > 0 || newX < this.maxScrollX ) {\r\n\t\t\tnewX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\r\n\t\t}\r\n\t\tif ( newY > 0 || newY < this.maxScrollY ) {\r\n\t\t\tnewY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\r\n\t\t}\r\n\r\n\t\tthis.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\r\n\t\tthis.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\r\n\r\n\t\tif ( !this.moved ) {\r\n\t\t\tthis._execEvent('scrollStart');\r\n\t\t}\r\n\r\n\t\tthis.moved = true;\r\n\r\n\t\tthis._translate(newX, newY);\r\n\r\n/* REPLACE START: _move */\r\n\r\n\t\tif ( timestamp - this.startTime > 300 ) {\r\n\t\t\tthis.startTime = timestamp;\r\n\t\t\tthis.startX = this.x;\r\n\t\t\tthis.startY = this.y;\r\n\t\t}\r\n\r\n/* REPLACE END: _move */\r\n\r\n\t},\r\n\r\n\t_end: function (e) {\r\n\t\tif ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\r\n\t\tvar point = e.changedTouches ? e.changedTouches[0] : e,\r\n\t\t\tmomentumX,\r\n\t\t\tmomentumY,\r\n\t\t\tduration = utils.getTime() - this.startTime,\r\n\t\t\tnewX = Math.round(this.x),\r\n\t\t\tnewY = Math.round(this.y),\r\n\t\t\tdistanceX = Math.abs(newX - this.startX),\r\n\t\t\tdistanceY = Math.abs(newY - this.startY),\r\n\t\t\ttime = 0,\r\n\t\t\teasing = '';\r\n\r\n\t\tthis.isInTransition = 0;\r\n\t\tthis.initiated = 0;\r\n\t\tthis.endTime = utils.getTime();\r\n\r\n\t\t// reset if we are outside of the boundaries\r\n\t\tif ( this.resetPosition(this.options.bounceTime) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.scrollTo(newX, newY);\t// ensures that the last position is rounded\r\n\r\n\t\t// we scrolled less than 10 pixels\r\n\t\tif ( !this.moved ) {\r\n\t\t\tif ( this.options.tap ) {\r\n\t\t\t\tutils.tap(e, this.options.tap);\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.options.click ) {\r\n\t\t\t\tutils.click(e);\r\n\t\t\t}\r\n\r\n\t\t\tthis._execEvent('scrollCancel');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100 ) {\r\n\t\t\tthis._execEvent('flick');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// start momentum animation if needed\r\n\t\tif ( this.options.momentum && duration < 300 ) {\r\n\t\t\tmomentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : { destination: newX, duration: 0 };\r\n\t\t\tmomentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : { destination: newY, duration: 0 };\r\n\t\t\tnewX = momentumX.destination;\r\n\t\t\tnewY = momentumY.destination;\r\n\t\t\ttime = Math.max(momentumX.duration, momentumY.duration);\r\n\t\t\tthis.isInTransition = 1;\r\n\t\t}\r\n\r\n\r\n\t\tif ( this.options.snap ) {\r\n\t\t\tvar snap = this._nearestSnap(newX, newY);\r\n\t\t\tthis.currentPage = snap;\r\n\t\t\ttime = this.options.snapSpeed || Math.max(\r\n\t\t\t\t\tMath.max(\r\n\t\t\t\t\t\tMath.min(Math.abs(newX - snap.x), 1000),\r\n\t\t\t\t\t\tMath.min(Math.abs(newY - snap.y), 1000)\r\n\t\t\t\t\t), 300);\r\n\t\t\tnewX = snap.x;\r\n\t\t\tnewY = snap.y;\r\n\r\n\t\t\tthis.directionX = 0;\r\n\t\t\tthis.directionY = 0;\r\n\t\t\teasing = this.options.bounceEasing;\r\n\t\t}\r\n\r\n// INSERT POINT: _end\r\n\r\n\t\tif ( newX != this.x || newY != this.y ) {\r\n\t\t\t// change easing function when scroller goes out of the boundaries\r\n\t\t\tif ( newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY ) {\r\n\t\t\t\teasing = utils.ease.quadratic;\r\n\t\t\t}\r\n\r\n\t\t\tthis.scrollTo(newX, newY, time, easing);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._execEvent('scrollEnd');\r\n\t},\r\n\r\n\t_resize: function () {\r\n\t\tvar that = this;\r\n\r\n\t\tclearTimeout(this.resizeTimeout);\r\n\r\n\t\tthis.resizeTimeout = setTimeout(function () {\r\n\t\t\tthat.refresh();\r\n\t\t}, this.options.resizePolling);\r\n\t},\r\n\r\n\tresetPosition: function (time) {\r\n\t\tvar x = this.x,\r\n\t\t\ty = this.y;\r\n\r\n\t\ttime = time || 0;\r\n\r\n\t\tif ( !this.hasHorizontalScroll || this.x > 0 ) {\r\n\t\t\tx = 0;\r\n\t\t} else if ( this.x < this.maxScrollX ) {\r\n\t\t\tx = this.maxScrollX;\r\n\t\t}\r\n\r\n\t\tif ( !this.hasVerticalScroll || this.y > 0 ) {\r\n\t\t\ty = 0;\r\n\t\t} else if ( this.y < this.maxScrollY ) {\r\n\t\t\ty = this.maxScrollY;\r\n\t\t}\r\n\r\n\t\tif ( x == this.x && y == this.y ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.scrollTo(x, y, time, this.options.bounceEasing);\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\tdisable: function () {\r\n\t\tthis.enabled = false;\r\n\t},\r\n\r\n\tenable: function () {\r\n\t\tthis.enabled = true;\r\n\t},\r\n\r\n\trefresh: function () {\r\n\t\tutils.getRect(this.wrapper);\t\t// Force reflow\r\n\r\n\t\tthis.wrapperWidth\t= this.wrapper.clientWidth;\r\n\t\tthis.wrapperHeight\t= this.wrapper.clientHeight;\r\n\r\n\t\tvar rect = utils.getRect(this.scroller);\r\n/* REPLACE START: refresh */\r\n\r\n\t\tthis.scrollerWidth\t= rect.width;\r\n\t\tthis.scrollerHeight\t= rect.height;\r\n\r\n\t\tthis.maxScrollX\t\t= this.wrapperWidth - this.scrollerWidth;\r\n\t\tthis.maxScrollY\t\t= this.wrapperHeight - this.scrollerHeight;\r\n\r\n/* REPLACE END: refresh */\r\n\r\n\t\tthis.hasHorizontalScroll\t= this.options.scrollX && this.maxScrollX < 0;\r\n\t\tthis.hasVerticalScroll\t\t= this.options.scrollY && this.maxScrollY < 0;\r\n\t\t\r\n\t\tif ( !this.hasHorizontalScroll ) {\r\n\t\t\tthis.maxScrollX = 0;\r\n\t\t\tthis.scrollerWidth = this.wrapperWidth;\r\n\t\t}\r\n\r\n\t\tif ( !this.hasVerticalScroll ) {\r\n\t\t\tthis.maxScrollY = 0;\r\n\t\t\tthis.scrollerHeight = this.wrapperHeight;\r\n\t\t}\r\n\r\n\t\tthis.endTime = 0;\r\n\t\tthis.directionX = 0;\r\n\t\tthis.directionY = 0;\r\n\t\t\r\n\t\tif(utils.hasPointer && !this.options.disablePointer) {\r\n\t\t\t// The wrapper should have `touchAction` property for using pointerEvent.\r\n\t\t\tthis.wrapper.style[utils.style.touchAction] = utils.getTouchAction(this.options.eventPassthrough, true);\r\n\r\n\t\t\t// case. not support 'pinch-zoom'\r\n\t\t\t// https://github.com/cubiq/iscroll/issues/1118#issuecomment-270057583\r\n\t\t\tif (!this.wrapper.style[utils.style.touchAction]) {\r\n\t\t\t\tthis.wrapper.style[utils.style.touchAction] = utils.getTouchAction(this.options.eventPassthrough, false);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.wrapperOffset = utils.offset(this.wrapper);\r\n\r\n\t\tthis._execEvent('refresh');\r\n\r\n\t\tthis.resetPosition();\r\n\r\n// INSERT POINT: _refresh\r\n\r\n\t},\t\r\n\r\n\ton: function (type, fn) {\r\n\t\tif ( !this._events[type] ) {\r\n\t\t\tthis._events[type] = [];\r\n\t\t}\r\n\r\n\t\tthis._events[type].push(fn);\r\n\t},\r\n\r\n\toff: function (type, fn) {\r\n\t\tif ( !this._events[type] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar index = this._events[type].indexOf(fn);\r\n\r\n\t\tif ( index > -1 ) {\r\n\t\t\tthis._events[type].splice(index, 1);\r\n\t\t}\r\n\t},\r\n\r\n\t_execEvent: function (type) {\r\n\t\tif ( !this._events[type] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar i = 0,\r\n\t\t\tl = this._events[type].length;\r\n\r\n\t\tif ( !l ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor ( ; i < l; i++ ) {\r\n\t\t\tthis._events[type][i].apply(this, [].slice.call(arguments, 1));\r\n\t\t}\r\n\t},\r\n\r\n\tscrollBy: function (x, y, time, easing) {\r\n\t\tx = this.x + x;\r\n\t\ty = this.y + y;\r\n\t\ttime = time || 0;\r\n\r\n\t\tthis.scrollTo(x, y, time, easing);\r\n\t},\r\n\r\n\tscrollTo: function (x, y, time, easing) {\r\n\t\teasing = easing || utils.ease.circular;\r\n\r\n\t\tthis.isInTransition = this.options.useTransition && time > 0;\r\n\t\tvar transitionType = this.options.useTransition && easing.style;\r\n\t\tif ( !time || transitionType ) {\r\n\t\t\t\tif(transitionType) {\r\n\t\t\t\t\tthis._transitionTimingFunction(easing.style);\r\n\t\t\t\t\tthis._transitionTime(time);\r\n\t\t\t\t}\r\n\t\t\tthis._translate(x, y);\r\n\t\t} else {\r\n\t\t\tthis._animate(x, y, time, easing.fn);\r\n\t\t}\r\n\t},\r\n\r\n\tscrollToElement: function (el, time, offsetX, offsetY, easing) {\r\n\t\tel = el.nodeType ? el : this.scroller.querySelector(el);\r\n\r\n\t\tif ( !el ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar pos = utils.offset(el);\r\n\r\n\t\tpos.left -= this.wrapperOffset.left;\r\n\t\tpos.top  -= this.wrapperOffset.top;\r\n\r\n\t\t// if offsetX/Y are true we center the element to the screen\r\n\t\tvar elRect = utils.getRect(el);\r\n\t\tvar wrapperRect = utils.getRect(this.wrapper);\r\n\t\tif ( offsetX === true ) {\r\n\t\t\toffsetX = Math.round(elRect.width / 2 - wrapperRect.width / 2);\r\n\t\t}\r\n\t\tif ( offsetY === true ) {\r\n\t\t\toffsetY = Math.round(elRect.height / 2 - wrapperRect.height / 2);\r\n\t\t}\r\n\r\n\t\tpos.left -= offsetX || 0;\r\n\t\tpos.top  -= offsetY || 0;\r\n\r\n\t\tpos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\r\n\t\tpos.top  = pos.top  > 0 ? 0 : pos.top  < this.maxScrollY ? this.maxScrollY : pos.top;\r\n\r\n\t\ttime = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x-pos.left), Math.abs(this.y-pos.top)) : time;\r\n\r\n\t\tthis.scrollTo(pos.left, pos.top, time, easing);\r\n\t},\r\n\r\n\t_transitionTime: function (time) {\r\n\t\tif (!this.options.useTransition) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttime = time || 0;\r\n\t\tvar durationProp = utils.style.transitionDuration;\r\n\t\tif(!durationProp) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.scrollerStyle[durationProp] = time + 'ms';\r\n\r\n\t\tif ( !time && utils.isBadAndroid ) {\r\n\t\t\tthis.scrollerStyle[durationProp] = '0.0001ms';\r\n\t\t\t// remove 0.0001ms\r\n\t\t\tvar self = this;\r\n\t\t\trAF(function() {\r\n\t\t\t\tif(self.scrollerStyle[durationProp] === '0.0001ms') {\r\n\t\t\t\t\tself.scrollerStyle[durationProp] = '0s';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tif ( this.indicators ) {\r\n\t\t\tfor ( var i = this.indicators.length; i--; ) {\r\n\t\t\t\tthis.indicators[i].transitionTime(time);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n// INSERT POINT: _transitionTime\r\n\r\n\t},\r\n\r\n\t_transitionTimingFunction: function (easing) {\r\n\t\tthis.scrollerStyle[utils.style.transitionTimingFunction] = easing;\r\n\r\n\r\n\t\tif ( this.indicators ) {\r\n\t\t\tfor ( var i = this.indicators.length; i--; ) {\r\n\t\t\t\tthis.indicators[i].transitionTimingFunction(easing);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n// INSERT POINT: _transitionTimingFunction\r\n\r\n\t},\r\n\r\n\t_translate: function (x, y) {\r\n\t\tif ( this.options.useTransform ) {\r\n\r\n/* REPLACE START: _translate */\r\n\r\n\t\t\tthis.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.translateZ;\r\n\r\n/* REPLACE END: _translate */\r\n\r\n\t\t} else {\r\n\t\t\tx = Math.round(x);\r\n\t\t\ty = Math.round(y);\r\n\t\t\tthis.scrollerStyle.left = x + 'px';\r\n\t\t\tthis.scrollerStyle.top = y + 'px';\r\n\t\t}\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\r\n\r\n\tif ( this.indicators ) {\r\n\t\tfor ( var i = this.indicators.length; i--; ) {\r\n\t\t\tthis.indicators[i].updatePosition();\r\n\t\t}\r\n\t}\r\n\r\n\r\n// INSERT POINT: _translate\r\n\r\n\t},\r\n\r\n\t_initEvents: function (remove) {\r\n\t\tvar eventType = remove ? utils.removeEvent : utils.addEvent,\r\n\t\t\ttarget = this.options.bindToWrapper ? this.wrapper : window;\r\n\r\n\t\teventType(window, 'orientationchange', this);\r\n\t\teventType(window, 'resize', this);\r\n\r\n\t\tif ( this.options.click ) {\r\n\t\t\teventType(this.wrapper, 'click', this, true);\r\n\t\t}\r\n\r\n\t\tif ( !this.options.disableMouse ) {\r\n\t\t\teventType(this.wrapper, 'mousedown', this);\r\n\t\t\teventType(target, 'mousemove', this);\r\n\t\t\teventType(target, 'mousecancel', this);\r\n\t\t\teventType(target, 'mouseup', this);\r\n\t\t}\r\n\r\n\t\tif ( utils.hasPointer && !this.options.disablePointer ) {\r\n\t\t\teventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);\r\n\t\t\teventType(target, utils.prefixPointerEvent('pointermove'), this);\r\n\t\t\teventType(target, utils.prefixPointerEvent('pointercancel'), this);\r\n\t\t\teventType(target, utils.prefixPointerEvent('pointerup'), this);\r\n\t\t}\r\n\r\n\t\tif ( utils.hasTouch && !this.options.disableTouch ) {\r\n\t\t\teventType(this.wrapper, 'touchstart', this);\r\n\t\t\teventType(target, 'touchmove', this);\r\n\t\t\teventType(target, 'touchcancel', this);\r\n\t\t\teventType(target, 'touchend', this);\r\n\t\t}\r\n\r\n\t\teventType(this.scroller, 'transitionend', this);\r\n\t\teventType(this.scroller, 'webkitTransitionEnd', this);\r\n\t\teventType(this.scroller, 'oTransitionEnd', this);\r\n\t\teventType(this.scroller, 'MSTransitionEnd', this);\r\n\t},\r\n\r\n\tgetComputedPosition: function () {\r\n\t\tvar matrix = window.getComputedStyle(this.scroller, null),\r\n\t\t\tx, y;\r\n\r\n\t\tif ( this.options.useTransform ) {\r\n\t\t\tmatrix = matrix[utils.style.transform].split(')')[0].split(', ');\r\n\t\t\tx = +(matrix[12] || matrix[4]);\r\n\t\t\ty = +(matrix[13] || matrix[5]);\r\n\t\t} else {\r\n\t\t\tx = +matrix.left.replace(/[^-\\d.]/g, '');\r\n\t\t\ty = +matrix.top.replace(/[^-\\d.]/g, '');\r\n\t\t}\r\n\r\n\t\treturn { x: x, y: y };\r\n\t},\r\n\t_initIndicators: function () {\r\n\t\tvar interactive = this.options.interactiveScrollbars,\r\n\t\t\tcustomStyle = typeof this.options.scrollbars != 'string',\r\n\t\t\tindicators = [],\r\n\t\t\tindicator;\r\n\r\n\t\tvar that = this;\r\n\r\n\t\tthis.indicators = [];\r\n\r\n\t\tif ( this.options.scrollbars ) {\r\n\t\t\t// Vertical scrollbar\r\n\t\t\tif ( this.options.scrollY ) {\r\n\t\t\t\tindicator = {\r\n\t\t\t\t\tel: createDefaultScrollbar('v', interactive, this.options.scrollbars),\r\n\t\t\t\t\tinteractive: interactive,\r\n\t\t\t\t\tdefaultScrollbars: true,\r\n\t\t\t\t\tcustomStyle: customStyle,\r\n\t\t\t\t\tresize: this.options.resizeScrollbars,\r\n\t\t\t\t\tshrink: this.options.shrinkScrollbars,\r\n\t\t\t\t\tfade: this.options.fadeScrollbars,\r\n\t\t\t\t\tlistenX: false\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\r\n\t\t\t\tindicators.push(indicator);\r\n\t\t\t}\r\n\r\n\t\t\t// Horizontal scrollbar\r\n\t\t\tif ( this.options.scrollX ) {\r\n\t\t\t\tindicator = {\r\n\t\t\t\t\tel: createDefaultScrollbar('h', interactive, this.options.scrollbars),\r\n\t\t\t\t\tinteractive: interactive,\r\n\t\t\t\t\tdefaultScrollbars: true,\r\n\t\t\t\t\tcustomStyle: customStyle,\r\n\t\t\t\t\tresize: this.options.resizeScrollbars,\r\n\t\t\t\t\tshrink: this.options.shrinkScrollbars,\r\n\t\t\t\t\tfade: this.options.fadeScrollbars,\r\n\t\t\t\t\tlistenY: false\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\r\n\t\t\t\tindicators.push(indicator);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( this.options.indicators ) {\r\n\t\t\t// TODO: check concat compatibility\r\n\t\t\tindicators = indicators.concat(this.options.indicators);\r\n\t\t}\r\n\r\n\t\tfor ( var i = indicators.length; i--; ) {\r\n\t\t\tthis.indicators.push( new Indicator(this, indicators[i]) );\r\n\t\t}\r\n\r\n\t\t// TODO: check if we can use array.map (wide compatibility and performance issues)\r\n\t\tfunction _indicatorsMap (fn) {\r\n\t\t\tif (that.indicators) {\r\n\t\t\t\tfor ( var i = that.indicators.length; i--; ) {\r\n\t\t\t\t\tfn.call(that.indicators[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( this.options.fadeScrollbars ) {\r\n\t\t\tthis.on('scrollEnd', function () {\r\n\t\t\t\t_indicatorsMap(function () {\r\n\t\t\t\t\tthis.fade();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tthis.on('scrollCancel', function () {\r\n\t\t\t\t_indicatorsMap(function () {\r\n\t\t\t\t\tthis.fade();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tthis.on('scrollStart', function () {\r\n\t\t\t\t_indicatorsMap(function () {\r\n\t\t\t\t\tthis.fade(1);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tthis.on('beforeScrollStart', function () {\r\n\t\t\t\t_indicatorsMap(function () {\r\n\t\t\t\t\tthis.fade(1, true);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tthis.on('refresh', function () {\r\n\t\t\t_indicatorsMap(function () {\r\n\t\t\t\tthis.refresh();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.on('destroy', function () {\r\n\t\t\t_indicatorsMap(function () {\r\n\t\t\t\tthis.destroy();\r\n\t\t\t});\r\n\r\n\t\t\tdelete this.indicators;\r\n\t\t});\r\n\t},\r\n\r\n\t_initWheel: function () {\r\n\t\tutils.addEvent(this.wrapper, 'wheel', this);\r\n\t\tutils.addEvent(this.wrapper, 'mousewheel', this);\r\n\t\tutils.addEvent(this.wrapper, 'DOMMouseScroll', this);\r\n\r\n\t\tthis.on('destroy', function () {\r\n\t\t\tclearTimeout(this.wheelTimeout);\r\n\t\t\tthis.wheelTimeout = null;\r\n\t\t\tutils.removeEvent(this.wrapper, 'wheel', this);\r\n\t\t\tutils.removeEvent(this.wrapper, 'mousewheel', this);\r\n\t\t\tutils.removeEvent(this.wrapper, 'DOMMouseScroll', this);\r\n\t\t});\r\n\t},\r\n\r\n\t_wheel: function (e) {\r\n\t\tif ( !this.enabled ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\te.preventDefault();\r\n\r\n\t\tvar wheelDeltaX, wheelDeltaY,\r\n\t\t\tnewX, newY,\r\n\t\t\tthat = this;\r\n\r\n\t\tif ( this.wheelTimeout === undefined ) {\r\n\t\t\tthat._execEvent('scrollStart');\r\n\t\t}\r\n\r\n\t\t// Execute the scrollEnd event after 400ms the wheel stopped scrolling\r\n\t\tclearTimeout(this.wheelTimeout);\r\n\t\tthis.wheelTimeout = setTimeout(function () {\r\n\t\t\tif(!that.options.snap) {\r\n\t\t\t\tthat._execEvent('scrollEnd');\r\n\t\t\t}\r\n\t\t\tthat.wheelTimeout = undefined;\r\n\t\t}, 400);\r\n\r\n\t\tif ( 'deltaX' in e ) {\r\n\t\t\tif (e.deltaMode === 1) {\r\n\t\t\t\twheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;\r\n\t\t\t\twheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;\r\n\t\t\t} else {\r\n\t\t\t\twheelDeltaX = -e.deltaX;\r\n\t\t\t\twheelDeltaY = -e.deltaY;\r\n\t\t\t}\r\n\t\t} else if ( 'wheelDeltaX' in e ) {\r\n\t\t\twheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;\r\n\t\t\twheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;\r\n\t\t} else if ( 'wheelDelta' in e ) {\r\n\t\t\twheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;\r\n\t\t} else if ( 'detail' in e ) {\r\n\t\t\twheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twheelDeltaX *= this.options.invertWheelDirection;\r\n\t\twheelDeltaY *= this.options.invertWheelDirection;\r\n\r\n\t\tif ( !this.hasVerticalScroll ) {\r\n\t\t\twheelDeltaX = wheelDeltaY;\r\n\t\t\twheelDeltaY = 0;\r\n\t\t}\r\n\r\n\t\tif ( this.options.snap ) {\r\n\t\t\tnewX = this.currentPage.pageX;\r\n\t\t\tnewY = this.currentPage.pageY;\r\n\r\n\t\t\tif ( wheelDeltaX > 0 ) {\r\n\t\t\t\tnewX--;\r\n\t\t\t} else if ( wheelDeltaX < 0 ) {\r\n\t\t\t\tnewX++;\r\n\t\t\t}\r\n\r\n\t\t\tif ( wheelDeltaY > 0 ) {\r\n\t\t\t\tnewY--;\r\n\t\t\t} else if ( wheelDeltaY < 0 ) {\r\n\t\t\t\tnewY++;\r\n\t\t\t}\r\n\r\n\t\t\tthis.goToPage(newX, newY);\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tnewX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\r\n\t\tnewY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\r\n\r\n\t\tthis.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\r\n\t\tthis.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\r\n\r\n\t\tif ( newX > 0 ) {\r\n\t\t\tnewX = 0;\r\n\t\t} else if ( newX < this.maxScrollX ) {\r\n\t\t\tnewX = this.maxScrollX;\r\n\t\t}\r\n\r\n\t\tif ( newY > 0 ) {\r\n\t\t\tnewY = 0;\r\n\t\t} else if ( newY < this.maxScrollY ) {\r\n\t\t\tnewY = this.maxScrollY;\r\n\t\t}\r\n\r\n\t\tthis.scrollTo(newX, newY, 0);\r\n\r\n// INSERT POINT: _wheel\r\n\t},\r\n\r\n\t_initSnap: function () {\r\n\t\tthis.currentPage = {};\r\n\r\n\t\tif ( typeof this.options.snap == 'string' ) {\r\n\t\t\tthis.options.snap = this.scroller.querySelectorAll(this.options.snap);\r\n\t\t}\r\n\r\n\t\tthis.on('refresh', function () {\r\n\t\t\tvar i = 0, l,\r\n\t\t\t\tm = 0, n,\r\n\t\t\t\tcx, cy,\r\n\t\t\t\tx = 0, y,\r\n\t\t\t\tstepX = this.options.snapStepX || this.wrapperWidth,\r\n\t\t\t\tstepY = this.options.snapStepY || this.wrapperHeight,\r\n\t\t\t\tel,\r\n\t\t\t\trect;\r\n\r\n\t\t\tthis.pages = [];\r\n\r\n\t\t\tif ( !this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.options.snap === true ) {\r\n\t\t\t\tcx = Math.round( stepX / 2 );\r\n\t\t\t\tcy = Math.round( stepY / 2 );\r\n\r\n\t\t\t\twhile ( x > -this.scrollerWidth ) {\r\n\t\t\t\t\tthis.pages[i] = [];\r\n\t\t\t\t\tl = 0;\r\n\t\t\t\t\ty = 0;\r\n\r\n\t\t\t\t\twhile ( y > -this.scrollerHeight ) {\r\n\t\t\t\t\t\tthis.pages[i][l] = {\r\n\t\t\t\t\t\t\tx: Math.max(x, this.maxScrollX),\r\n\t\t\t\t\t\t\ty: Math.max(y, this.maxScrollY),\r\n\t\t\t\t\t\t\twidth: stepX,\r\n\t\t\t\t\t\t\theight: stepY,\r\n\t\t\t\t\t\t\tcx: x - cx,\r\n\t\t\t\t\t\t\tcy: y - cy\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\ty -= stepY;\r\n\t\t\t\t\t\tl++;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tx -= stepX;\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tel = this.options.snap;\r\n\t\t\t\tl = el.length;\r\n\t\t\t\tn = -1;\r\n\r\n\t\t\t\tfor ( ; i < l; i++ ) {\r\n\t\t\t\t\trect = utils.getRect(el[i]);\r\n\t\t\t\t\tif ( i === 0 || rect.left <= utils.getRect(el[i-1]).left ) {\r\n\t\t\t\t\t\tm = 0;\r\n\t\t\t\t\t\tn++;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( !this.pages[m] ) {\r\n\t\t\t\t\t\tthis.pages[m] = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tx = Math.max(-rect.left, this.maxScrollX);\r\n\t\t\t\t\ty = Math.max(-rect.top, this.maxScrollY);\r\n\t\t\t\t\tcx = x - Math.round(rect.width / 2);\r\n\t\t\t\t\tcy = y - Math.round(rect.height / 2);\r\n\r\n\t\t\t\t\tthis.pages[m][n] = {\r\n\t\t\t\t\t\tx: x,\r\n\t\t\t\t\t\ty: y,\r\n\t\t\t\t\t\twidth: rect.width,\r\n\t\t\t\t\t\theight: rect.height,\r\n\t\t\t\t\t\tcx: cx,\r\n\t\t\t\t\t\tcy: cy\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif ( x > this.maxScrollX ) {\r\n\t\t\t\t\t\tm++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0);\r\n\r\n\t\t\t// Update snap threshold if needed\r\n\t\t\tif ( this.options.snapThreshold % 1 === 0 ) {\r\n\t\t\t\tthis.snapThresholdX = this.options.snapThreshold;\r\n\t\t\t\tthis.snapThresholdY = this.options.snapThreshold;\r\n\t\t\t} else {\r\n\t\t\t\tthis.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);\r\n\t\t\t\tthis.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.on('flick', function () {\r\n\t\t\tvar time = this.options.snapSpeed || Math.max(\r\n\t\t\t\t\tMath.max(\r\n\t\t\t\t\t\tMath.min(Math.abs(this.x - this.startX), 1000),\r\n\t\t\t\t\t\tMath.min(Math.abs(this.y - this.startY), 1000)\r\n\t\t\t\t\t), 300);\r\n\r\n\t\t\tthis.goToPage(\r\n\t\t\t\tthis.currentPage.pageX + this.directionX,\r\n\t\t\t\tthis.currentPage.pageY + this.directionY,\r\n\t\t\t\ttime\r\n\t\t\t);\r\n\t\t});\r\n\t},\r\n\r\n\t_nearestSnap: function (x, y) {\r\n\t\tif ( !this.pages.length ) {\r\n\t\t\treturn { x: 0, y: 0, pageX: 0, pageY: 0 };\r\n\t\t}\r\n\r\n\t\tvar i = 0,\r\n\t\t\tl = this.pages.length,\r\n\t\t\tm = 0;\r\n\r\n\t\t// Check if we exceeded the snap threshold\r\n\t\tif ( Math.abs(x - this.absStartX) < this.snapThresholdX &&\r\n\t\t\tMath.abs(y - this.absStartY) < this.snapThresholdY ) {\r\n\t\t\treturn this.currentPage;\r\n\t\t}\r\n\r\n\t\tif ( x > 0 ) {\r\n\t\t\tx = 0;\r\n\t\t} else if ( x < this.maxScrollX ) {\r\n\t\t\tx = this.maxScrollX;\r\n\t\t}\r\n\r\n\t\tif ( y > 0 ) {\r\n\t\t\ty = 0;\r\n\t\t} else if ( y < this.maxScrollY ) {\r\n\t\t\ty = this.maxScrollY;\r\n\t\t}\r\n\r\n\t\tfor ( ; i < l; i++ ) {\r\n\t\t\tif ( x >= this.pages[i][0].cx ) {\r\n\t\t\t\tx = this.pages[i][0].x;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tl = this.pages[i].length;\r\n\r\n\t\tfor ( ; m < l; m++ ) {\r\n\t\t\tif ( y >= this.pages[0][m].cy ) {\r\n\t\t\t\ty = this.pages[0][m].y;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( i == this.currentPage.pageX ) {\r\n\t\t\ti += this.directionX;\r\n\r\n\t\t\tif ( i < 0 ) {\r\n\t\t\t\ti = 0;\r\n\t\t\t} else if ( i >= this.pages.length ) {\r\n\t\t\t\ti = this.pages.length - 1;\r\n\t\t\t}\r\n\r\n\t\t\tx = this.pages[i][0].x;\r\n\t\t}\r\n\r\n\t\tif ( m == this.currentPage.pageY ) {\r\n\t\t\tm += this.directionY;\r\n\r\n\t\t\tif ( m < 0 ) {\r\n\t\t\t\tm = 0;\r\n\t\t\t} else if ( m >= this.pages[0].length ) {\r\n\t\t\t\tm = this.pages[0].length - 1;\r\n\t\t\t}\r\n\r\n\t\t\ty = this.pages[0][m].y;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t\tpageX: i,\r\n\t\t\tpageY: m\r\n\t\t};\r\n\t},\r\n\r\n\tgoToPage: function (x, y, time, easing) {\r\n\t\teasing = easing || this.options.bounceEasing;\r\n\r\n\t\tif ( x >= this.pages.length ) {\r\n\t\t\tx = this.pages.length - 1;\r\n\t\t} else if ( x < 0 ) {\r\n\t\t\tx = 0;\r\n\t\t}\r\n\r\n\t\tif ( y >= this.pages[x].length ) {\r\n\t\t\ty = this.pages[x].length - 1;\r\n\t\t} else if ( y < 0 ) {\r\n\t\t\ty = 0;\r\n\t\t}\r\n\r\n\t\tvar posX = this.pages[x][y].x,\r\n\t\t\tposY = this.pages[x][y].y;\r\n\r\n\t\ttime = time === undefined ? this.options.snapSpeed || Math.max(\r\n\t\t\tMath.max(\r\n\t\t\t\tMath.min(Math.abs(posX - this.x), 1000),\r\n\t\t\t\tMath.min(Math.abs(posY - this.y), 1000)\r\n\t\t\t), 300) : time;\r\n\r\n\t\tthis.currentPage = {\r\n\t\t\tx: posX,\r\n\t\t\ty: posY,\r\n\t\t\tpageX: x,\r\n\t\t\tpageY: y\r\n\t\t};\r\n\r\n\t\tthis.scrollTo(posX, posY, time, easing);\r\n\t},\r\n\r\n\tnext: function (time, easing) {\r\n\t\tvar x = this.currentPage.pageX,\r\n\t\t\ty = this.currentPage.pageY;\r\n\r\n\t\tx++;\r\n\r\n\t\tif ( x >= this.pages.length && this.hasVerticalScroll ) {\r\n\t\t\tx = 0;\r\n\t\t\ty++;\r\n\t\t}\r\n\r\n\t\tthis.goToPage(x, y, time, easing);\r\n\t},\r\n\r\n\tprev: function (time, easing) {\r\n\t\tvar x = this.currentPage.pageX,\r\n\t\t\ty = this.currentPage.pageY;\r\n\r\n\t\tx--;\r\n\r\n\t\tif ( x < 0 && this.hasVerticalScroll ) {\r\n\t\t\tx = 0;\r\n\t\t\ty--;\r\n\t\t}\r\n\r\n\t\tthis.goToPage(x, y, time, easing);\r\n\t},\r\n\r\n\t_initKeys: function (e) {\r\n\t\t// default key bindings\r\n\t\tvar keys = {\r\n\t\t\tpageUp: 33,\r\n\t\t\tpageDown: 34,\r\n\t\t\tend: 35,\r\n\t\t\thome: 36,\r\n\t\t\tleft: 37,\r\n\t\t\tup: 38,\r\n\t\t\tright: 39,\r\n\t\t\tdown: 40\r\n\t\t};\r\n\t\tvar i;\r\n\r\n\t\t// if you give me characters I give you keycode\r\n\t\tif ( typeof this.options.keyBindings == 'object' ) {\r\n\t\t\tfor ( i in this.options.keyBindings ) {\r\n\t\t\t\tif ( typeof this.options.keyBindings[i] == 'string' ) {\r\n\t\t\t\t\tthis.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.options.keyBindings = {};\r\n\t\t}\r\n\r\n\t\tfor ( i in keys ) {\r\n\t\t\tthis.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];\r\n\t\t}\r\n\r\n\t\tutils.addEvent(window, 'keydown', this);\r\n\r\n\t\tthis.on('destroy', function () {\r\n\t\t\tutils.removeEvent(window, 'keydown', this);\r\n\t\t});\r\n\t},\r\n\r\n\t_key: function (e) {\r\n\t\tif ( !this.enabled ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar snap = this.options.snap,\t// we are using this alot, better to cache it\r\n\t\t\tnewX = snap ? this.currentPage.pageX : this.x,\r\n\t\t\tnewY = snap ? this.currentPage.pageY : this.y,\r\n\t\t\tnow = utils.getTime(),\r\n\t\t\tprevTime = this.keyTime || 0,\r\n\t\t\tacceleration = 0.250,\r\n\t\t\tpos;\r\n\r\n\t\tif ( this.options.useTransition && this.isInTransition ) {\r\n\t\t\tpos = this.getComputedPosition();\r\n\r\n\t\t\tthis._translate(Math.round(pos.x), Math.round(pos.y));\r\n\t\t\tthis.isInTransition = false;\r\n\t\t}\r\n\r\n\t\tthis.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;\r\n\r\n\t\tswitch ( e.keyCode ) {\r\n\t\t\tcase this.options.keyBindings.pageUp:\r\n\t\t\t\tif ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {\r\n\t\t\t\t\tnewX += snap ? 1 : this.wrapperWidth;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewY += snap ? 1 : this.wrapperHeight;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.options.keyBindings.pageDown:\r\n\t\t\t\tif ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {\r\n\t\t\t\t\tnewX -= snap ? 1 : this.wrapperWidth;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewY -= snap ? 1 : this.wrapperHeight;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.options.keyBindings.end:\r\n\t\t\t\tnewX = snap ? this.pages.length-1 : this.maxScrollX;\r\n\t\t\t\tnewY = snap ? this.pages[0].length-1 : this.maxScrollY;\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.options.keyBindings.home:\r\n\t\t\t\tnewX = 0;\r\n\t\t\t\tnewY = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.options.keyBindings.left:\r\n\t\t\t\tnewX += snap ? -1 : 5 + this.keyAcceleration>>0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.options.keyBindings.up:\r\n\t\t\t\tnewY += snap ? 1 : 5 + this.keyAcceleration>>0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.options.keyBindings.right:\r\n\t\t\t\tnewX -= snap ? -1 : 5 + this.keyAcceleration>>0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.options.keyBindings.down:\r\n\t\t\t\tnewY -= snap ? 1 : 5 + this.keyAcceleration>>0;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( snap ) {\r\n\t\t\tthis.goToPage(newX, newY);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( newX > 0 ) {\r\n\t\t\tnewX = 0;\r\n\t\t\tthis.keyAcceleration = 0;\r\n\t\t} else if ( newX < this.maxScrollX ) {\r\n\t\t\tnewX = this.maxScrollX;\r\n\t\t\tthis.keyAcceleration = 0;\r\n\t\t}\r\n\r\n\t\tif ( newY > 0 ) {\r\n\t\t\tnewY = 0;\r\n\t\t\tthis.keyAcceleration = 0;\r\n\t\t} else if ( newY < this.maxScrollY ) {\r\n\t\t\tnewY = this.maxScrollY;\r\n\t\t\tthis.keyAcceleration = 0;\r\n\t\t}\r\n\r\n\t\tthis.scrollTo(newX, newY, 0);\r\n\r\n\t\tthis.keyTime = now;\r\n\t},\r\n\r\n\t_animate: function (destX, destY, duration, easingFn) {\r\n\t\tvar that = this,\r\n\t\t\tstartX = this.x,\r\n\t\t\tstartY = this.y,\r\n\t\t\tstartTime = utils.getTime(),\r\n\t\t\tdestTime = startTime + duration;\r\n\r\n\t\tfunction step () {\r\n\t\t\tvar now = utils.getTime(),\r\n\t\t\t\tnewX, newY,\r\n\t\t\t\teasing;\r\n\r\n\t\t\tif ( now >= destTime ) {\r\n\t\t\t\tthat.isAnimating = false;\r\n\t\t\t\tthat._translate(destX, destY);\r\n\r\n\t\t\t\tif ( !that.resetPosition(that.options.bounceTime) ) {\r\n\t\t\t\t\tthat._execEvent('scrollEnd');\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tnow = ( now - startTime ) / duration;\r\n\t\t\teasing = easingFn(now);\r\n\t\t\tnewX = ( destX - startX ) * easing + startX;\r\n\t\t\tnewY = ( destY - startY ) * easing + startY;\r\n\t\t\tthat._translate(newX, newY);\r\n\r\n\t\t\tif ( that.isAnimating ) {\r\n\t\t\t\trAF(step);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.isAnimating = true;\r\n\t\tstep();\r\n\t},\r\n\thandleEvent: function (e) {\r\n\t\tswitch ( e.type ) {\r\n\t\t\tcase 'touchstart':\r\n\t\t\tcase 'pointerdown':\r\n\t\t\tcase 'MSPointerDown':\r\n\t\t\tcase 'mousedown':\r\n\t\t\t\tthis._start(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'touchmove':\r\n\t\t\tcase 'pointermove':\r\n\t\t\tcase 'MSPointerMove':\r\n\t\t\tcase 'mousemove':\r\n\t\t\t\tthis._move(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'touchend':\r\n\t\t\tcase 'pointerup':\r\n\t\t\tcase 'MSPointerUp':\r\n\t\t\tcase 'mouseup':\r\n\t\t\tcase 'touchcancel':\r\n\t\t\tcase 'pointercancel':\r\n\t\t\tcase 'MSPointerCancel':\r\n\t\t\tcase 'mousecancel':\r\n\t\t\t\tthis._end(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'orientationchange':\r\n\t\t\tcase 'resize':\r\n\t\t\t\tthis._resize();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'transitionend':\r\n\t\t\tcase 'webkitTransitionEnd':\r\n\t\t\tcase 'oTransitionEnd':\r\n\t\t\tcase 'MSTransitionEnd':\r\n\t\t\t\tthis._transitionEnd(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'wheel':\r\n\t\t\tcase 'DOMMouseScroll':\r\n\t\t\tcase 'mousewheel':\r\n\t\t\t\tthis._wheel(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'keydown':\r\n\t\t\t\tthis._key(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'click':\r\n\t\t\t\tif ( this.enabled && !e._constructed ) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n};\r\nfunction createDefaultScrollbar (direction, interactive, type) {\r\n\tvar scrollbar = document.createElement('div'),\r\n\t\tindicator = document.createElement('div');\r\n\r\n\tif ( type === true ) {\r\n\t\tscrollbar.style.cssText = 'position:absolute;z-index:9999';\r\n\t\tindicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';\r\n\t}\r\n\r\n\tindicator.className = 'iScrollIndicator';\r\n\r\n\tif ( direction == 'h' ) {\r\n\t\tif ( type === true ) {\r\n\t\t\tscrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\r\n\t\t\tindicator.style.height = '100%';\r\n\t\t}\r\n\t\tscrollbar.className = 'iScrollHorizontalScrollbar';\r\n\t} else {\r\n\t\tif ( type === true ) {\r\n\t\t\tscrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\r\n\t\t\tindicator.style.width = '100%';\r\n\t\t}\r\n\t\tscrollbar.className = 'iScrollVerticalScrollbar';\r\n\t}\r\n\r\n\tscrollbar.style.cssText += ';overflow:hidden';\r\n\r\n\tif ( !interactive ) {\r\n\t\tscrollbar.style.pointerEvents = 'none';\r\n\t}\r\n\r\n\tscrollbar.appendChild(indicator);\r\n\r\n\treturn scrollbar;\r\n}\r\n\r\nfunction Indicator (scroller, options) {\r\n\tthis.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\r\n\tthis.wrapperStyle = this.wrapper.style;\r\n\tthis.indicator = this.wrapper.children[0];\r\n\tthis.indicatorStyle = this.indicator.style;\r\n\tthis.scroller = scroller;\r\n\r\n\tthis.options = {\r\n\t\tlistenX: true,\r\n\t\tlistenY: true,\r\n\t\tinteractive: false,\r\n\t\tresize: true,\r\n\t\tdefaultScrollbars: false,\r\n\t\tshrink: false,\r\n\t\tfade: false,\r\n\t\tspeedRatioX: 0,\r\n\t\tspeedRatioY: 0\r\n\t};\r\n\r\n\tfor ( var i in options ) {\r\n\t\tthis.options[i] = options[i];\r\n\t}\r\n\r\n\tthis.sizeRatioX = 1;\r\n\tthis.sizeRatioY = 1;\r\n\tthis.maxPosX = 0;\r\n\tthis.maxPosY = 0;\r\n\r\n\tif ( this.options.interactive ) {\r\n\t\tif ( !this.options.disableTouch ) {\r\n\t\t\tutils.addEvent(this.indicator, 'touchstart', this);\r\n\t\t\tutils.addEvent(window, 'touchend', this);\r\n\t\t}\r\n\t\tif ( !this.options.disablePointer ) {\r\n\t\t\tutils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\r\n\t\t\tutils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);\r\n\t\t}\r\n\t\tif ( !this.options.disableMouse ) {\r\n\t\t\tutils.addEvent(this.indicator, 'mousedown', this);\r\n\t\t\tutils.addEvent(window, 'mouseup', this);\r\n\t\t}\r\n\t}\r\n\r\n\tif ( this.options.fade ) {\r\n\t\tthis.wrapperStyle[utils.style.transform] = this.scroller.translateZ;\r\n\t\tvar durationProp = utils.style.transitionDuration;\r\n\t\tif(!durationProp) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.wrapperStyle[durationProp] = utils.isBadAndroid ? '0.0001ms' : '0ms';\r\n\t\t// remove 0.0001ms\r\n\t\tvar self = this;\r\n\t\tif(utils.isBadAndroid) {\r\n\t\t\trAF(function() {\r\n\t\t\t\tif(self.wrapperStyle[durationProp] === '0.0001ms') {\r\n\t\t\t\t\tself.wrapperStyle[durationProp] = '0s';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tthis.wrapperStyle.opacity = '0';\r\n\t}\r\n}\r\n\r\nIndicator.prototype = {\r\n\thandleEvent: function (e) {\r\n\t\tswitch ( e.type ) {\r\n\t\t\tcase 'touchstart':\r\n\t\t\tcase 'pointerdown':\r\n\t\t\tcase 'MSPointerDown':\r\n\t\t\tcase 'mousedown':\r\n\t\t\t\tthis._start(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'touchmove':\r\n\t\t\tcase 'pointermove':\r\n\t\t\tcase 'MSPointerMove':\r\n\t\t\tcase 'mousemove':\r\n\t\t\t\tthis._move(e);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'touchend':\r\n\t\t\tcase 'pointerup':\r\n\t\t\tcase 'MSPointerUp':\r\n\t\t\tcase 'mouseup':\r\n\t\t\tcase 'touchcancel':\r\n\t\t\tcase 'pointercancel':\r\n\t\t\tcase 'MSPointerCancel':\r\n\t\t\tcase 'mousecancel':\r\n\t\t\t\tthis._end(e);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function () {\r\n\t\tif ( this.options.fadeScrollbars ) {\r\n\t\t\tclearTimeout(this.fadeTimeout);\r\n\t\t\tthis.fadeTimeout = null;\r\n\t\t}\r\n\t\tif ( this.options.interactive ) {\r\n\t\t\tutils.removeEvent(this.indicator, 'touchstart', this);\r\n\t\t\tutils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\r\n\t\t\tutils.removeEvent(this.indicator, 'mousedown', this);\r\n\r\n\t\t\tutils.removeEvent(window, 'touchmove', this);\r\n\t\t\tutils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\r\n\t\t\tutils.removeEvent(window, 'mousemove', this);\r\n\r\n\t\t\tutils.removeEvent(window, 'touchend', this);\r\n\t\t\tutils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);\r\n\t\t\tutils.removeEvent(window, 'mouseup', this);\r\n\t\t}\r\n\r\n\t\tif ( this.options.defaultScrollbars && this.wrapper.parentNode ) {\r\n\t\t\tthis.wrapper.parentNode.removeChild(this.wrapper);\r\n\t\t}\r\n\t},\r\n\r\n\t_start: function (e) {\r\n\t\tvar point = e.touches ? e.touches[0] : e;\r\n\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\r\n\t\tthis.transitionTime();\r\n\r\n\t\tthis.initiated = true;\r\n\t\tthis.moved = false;\r\n\t\tthis.lastPointX\t= point.pageX;\r\n\t\tthis.lastPointY\t= point.pageY;\r\n\r\n\t\tthis.startTime\t= utils.getTime();\r\n\r\n\t\tif ( !this.options.disableTouch ) {\r\n\t\t\tutils.addEvent(window, 'touchmove', this);\r\n\t\t}\r\n\t\tif ( !this.options.disablePointer ) {\r\n\t\t\tutils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);\r\n\t\t}\r\n\t\tif ( !this.options.disableMouse ) {\r\n\t\t\tutils.addEvent(window, 'mousemove', this);\r\n\t\t}\r\n\r\n\t\tthis.scroller._execEvent('beforeScrollStart');\r\n\t},\r\n\r\n\t_move: function (e) {\r\n\t\tvar point = e.touches ? e.touches[0] : e,\r\n\t\t\tdeltaX, deltaY,\r\n\t\t\tnewX, newY,\r\n\t\t\ttimestamp = utils.getTime();\r\n\r\n\t\tif ( !this.moved ) {\r\n\t\t\tthis.scroller._execEvent('scrollStart');\r\n\t\t}\r\n\r\n\t\tthis.moved = true;\r\n\r\n\t\tdeltaX = point.pageX - this.lastPointX;\r\n\t\tthis.lastPointX = point.pageX;\r\n\r\n\t\tdeltaY = point.pageY - this.lastPointY;\r\n\t\tthis.lastPointY = point.pageY;\r\n\r\n\t\tnewX = this.x + deltaX;\r\n\t\tnewY = this.y + deltaY;\r\n\r\n\t\tthis._pos(newX, newY);\r\n\r\n// INSERT POINT: indicator._move\r\n\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t},\r\n\r\n\t_end: function (e) {\r\n\t\tif ( !this.initiated ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.initiated = false;\r\n\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\r\n\t\tutils.removeEvent(window, 'touchmove', this);\r\n\t\tutils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\r\n\t\tutils.removeEvent(window, 'mousemove', this);\r\n\r\n\t\tif ( this.scroller.options.snap ) {\r\n\t\t\tvar snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\r\n\r\n\t\t\tvar time = this.options.snapSpeed || Math.max(\r\n\t\t\t\t\tMath.max(\r\n\t\t\t\t\t\tMath.min(Math.abs(this.scroller.x - snap.x), 1000),\r\n\t\t\t\t\t\tMath.min(Math.abs(this.scroller.y - snap.y), 1000)\r\n\t\t\t\t\t), 300);\r\n\r\n\t\t\tif ( this.scroller.x != snap.x || this.scroller.y != snap.y ) {\r\n\t\t\t\tthis.scroller.directionX = 0;\r\n\t\t\t\tthis.scroller.directionY = 0;\r\n\t\t\t\tthis.scroller.currentPage = snap;\r\n\t\t\t\tthis.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( this.moved ) {\r\n\t\t\tthis.scroller._execEvent('scrollEnd');\r\n\t\t}\r\n\t},\r\n\r\n\ttransitionTime: function (time) {\r\n\t\ttime = time || 0;\r\n\t\tvar durationProp = utils.style.transitionDuration;\r\n\t\tif(!durationProp) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.indicatorStyle[durationProp] = time + 'ms';\r\n\r\n\t\tif ( !time && utils.isBadAndroid ) {\r\n\t\t\tthis.indicatorStyle[durationProp] = '0.0001ms';\r\n\t\t\t// remove 0.0001ms\r\n\t\t\tvar self = this;\r\n\t\t\trAF(function() {\r\n\t\t\t\tif(self.indicatorStyle[durationProp] === '0.0001ms') {\r\n\t\t\t\t\tself.indicatorStyle[durationProp] = '0s';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\ttransitionTimingFunction: function (easing) {\r\n\t\tthis.indicatorStyle[utils.style.transitionTimingFunction] = easing;\r\n\t},\r\n\r\n\trefresh: function () {\r\n\t\tthis.transitionTime();\r\n\r\n\t\tif ( this.options.listenX && !this.options.listenY ) {\r\n\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\r\n\t\t} else if ( this.options.listenY && !this.options.listenX ) {\r\n\t\t\tthis.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\r\n\t\t} else {\r\n\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\r\n\t\t}\r\n\r\n\t\tif ( this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll ) {\r\n\t\t\tutils.addClass(this.wrapper, 'iScrollBothScrollbars');\r\n\t\t\tutils.removeClass(this.wrapper, 'iScrollLoneScrollbar');\r\n\r\n\t\t\tif ( this.options.defaultScrollbars && this.options.customStyle ) {\r\n\t\t\t\tif ( this.options.listenX ) {\r\n\t\t\t\t\tthis.wrapper.style.right = '8px';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.wrapper.style.bottom = '8px';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tutils.removeClass(this.wrapper, 'iScrollBothScrollbars');\r\n\t\t\tutils.addClass(this.wrapper, 'iScrollLoneScrollbar');\r\n\r\n\t\t\tif ( this.options.defaultScrollbars && this.options.customStyle ) {\r\n\t\t\t\tif ( this.options.listenX ) {\r\n\t\t\t\t\tthis.wrapper.style.right = '2px';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.wrapper.style.bottom = '2px';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tutils.getRect(this.wrapper);\t// force refresh\r\n\r\n\t\tif ( this.options.listenX ) {\r\n\t\t\tthis.wrapperWidth = this.wrapper.clientWidth;\r\n\t\t\tif ( this.options.resize ) {\r\n\t\t\t\tthis.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\r\n\t\t\t\tthis.indicatorStyle.width = this.indicatorWidth + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tthis.indicatorWidth = this.indicator.clientWidth;\r\n\t\t\t}\r\n\r\n\t\t\tthis.maxPosX = this.wrapperWidth - this.indicatorWidth;\r\n\r\n\t\t\tif ( this.options.shrink == 'clip' ) {\r\n\t\t\t\tthis.minBoundaryX = -this.indicatorWidth + 8;\r\n\t\t\t\tthis.maxBoundaryX = this.wrapperWidth - 8;\r\n\t\t\t} else {\r\n\t\t\t\tthis.minBoundaryX = 0;\r\n\t\t\t\tthis.maxBoundaryX = this.maxPosX;\r\n\t\t\t}\r\n\r\n\t\t\tthis.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));\r\n\t\t}\r\n\r\n\t\tif ( this.options.listenY ) {\r\n\t\t\tthis.wrapperHeight = this.wrapper.clientHeight;\r\n\t\t\tif ( this.options.resize ) {\r\n\t\t\t\tthis.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\r\n\t\t\t\tthis.indicatorStyle.height = this.indicatorHeight + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tthis.indicatorHeight = this.indicator.clientHeight;\r\n\t\t\t}\r\n\r\n\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;\r\n\r\n\t\t\tif ( this.options.shrink == 'clip' ) {\r\n\t\t\t\tthis.minBoundaryY = -this.indicatorHeight + 8;\r\n\t\t\t\tthis.maxBoundaryY = this.wrapperHeight - 8;\r\n\t\t\t} else {\r\n\t\t\t\tthis.minBoundaryY = 0;\r\n\t\t\t\tthis.maxBoundaryY = this.maxPosY;\r\n\t\t\t}\r\n\r\n\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;\r\n\t\t\tthis.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));\r\n\t\t}\r\n\r\n\t\tthis.updatePosition();\r\n\t},\r\n\r\n\tupdatePosition: function () {\r\n\t\tvar x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\r\n\t\t\ty = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\r\n\r\n\t\tif ( !this.options.ignoreBoundaries ) {\r\n\t\t\tif ( x < this.minBoundaryX ) {\r\n\t\t\t\tif ( this.options.shrink == 'scale' ) {\r\n\t\t\t\t\tthis.width = Math.max(this.indicatorWidth + x, 8);\r\n\t\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tx = this.minBoundaryX;\r\n\t\t\t} else if ( x > this.maxBoundaryX ) {\r\n\t\t\t\tif ( this.options.shrink == 'scale' ) {\r\n\t\t\t\t\tthis.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\r\n\t\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\r\n\t\t\t\t\tx = this.maxPosX + this.indicatorWidth - this.width;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tx = this.maxBoundaryX;\r\n\t\t\t\t}\r\n\t\t\t} else if ( this.options.shrink == 'scale' && this.width != this.indicatorWidth ) {\r\n\t\t\t\tthis.width = this.indicatorWidth;\r\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tif ( y < this.minBoundaryY ) {\r\n\t\t\t\tif ( this.options.shrink == 'scale' ) {\r\n\t\t\t\t\tthis.height = Math.max(this.indicatorHeight + y * 3, 8);\r\n\t\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\r\n\t\t\t\t}\r\n\t\t\t\ty = this.minBoundaryY;\r\n\t\t\t} else if ( y > this.maxBoundaryY ) {\r\n\t\t\t\tif ( this.options.shrink == 'scale' ) {\r\n\t\t\t\t\tthis.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\r\n\t\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\r\n\t\t\t\t\ty = this.maxPosY + this.indicatorHeight - this.height;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ty = this.maxBoundaryY;\r\n\t\t\t\t}\r\n\t\t\t} else if ( this.options.shrink == 'scale' && this.height != this.indicatorHeight ) {\r\n\t\t\t\tthis.height = this.indicatorHeight;\r\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\r\n\t\tif ( this.scroller.options.useTransform ) {\r\n\t\t\tthis.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;\r\n\t\t} else {\r\n\t\t\tthis.indicatorStyle.left = x + 'px';\r\n\t\t\tthis.indicatorStyle.top = y + 'px';\r\n\t\t}\r\n\t},\r\n\r\n\t_pos: function (x, y) {\r\n\t\tif ( x < 0 ) {\r\n\t\t\tx = 0;\r\n\t\t} else if ( x > this.maxPosX ) {\r\n\t\t\tx = this.maxPosX;\r\n\t\t}\r\n\r\n\t\tif ( y < 0 ) {\r\n\t\t\ty = 0;\r\n\t\t} else if ( y > this.maxPosY ) {\r\n\t\t\ty = this.maxPosY;\r\n\t\t}\r\n\r\n\t\tx = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;\r\n\t\ty = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;\r\n\r\n\t\tthis.scroller.scrollTo(x, y);\r\n\t},\r\n\r\n\tfade: function (val, hold) {\r\n\t\tif ( hold && !this.visible ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tclearTimeout(this.fadeTimeout);\r\n\t\tthis.fadeTimeout = null;\r\n\r\n\t\tvar time = val ? 250 : 500,\r\n\t\t\tdelay = val ? 0 : 300;\r\n\r\n\t\tval = val ? '1' : '0';\r\n\r\n\t\tthis.wrapperStyle[utils.style.transitionDuration] = time + 'ms';\r\n\r\n\t\tthis.fadeTimeout = setTimeout((function (val) {\r\n\t\t\tthis.wrapperStyle.opacity = val;\r\n\t\t\tthis.visible = +val;\r\n\t\t}).bind(this, val), delay);\r\n\t}\r\n};\r\n\r\nIScroll.utils = utils;\r\n\r\nif ( typeof module != 'undefined' && module.exports ) {\r\n\tmodule.exports = IScroll;\r\n} else {\r\n\twindow.IScroll = IScroll;\r\n}\r\n\r\n})(window, document, Math);\r\n"]},"metadata":{},"sourceType":"module"}